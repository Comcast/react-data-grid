import{t as e}from"./DataGrid-CkXBrpCV.js";import{c as t,d as n,l as r,p as i}from"./index-BrgxuJNp.js";import{t as a}from"./CellExpanderFormatter-ZgxFx5Qn.js";var o=r(),s=`css-21dfb136`,c=`css-b5411881`;function l({tabIndex:e,onDeleteSubRow:t,isDeleteSubRowEnabled:n}){function r(e){e.key===`Enter`&&(e.preventDefault(),t())}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`div`,{className:s}),n&&(0,o.jsx)(`div`,{className:c,onClick:t,children:(0,o.jsx)(`span`,{tabIndex:e,onKeyDown:r,children:`‚ùå`})})]})}var u=i(n()),d=`css-70f823b0`;function f(){let e=[];for(let t=0;t<100;t++){let n=Math.random()*30,r=`row${t}`,i={id:r,name:`supplier ${t}`,format:`package ${t}`,position:`Run of site`,price:n,children:[{id:`${r}-0`,parentId:r,name:`supplier ${t}`,format:`728x90`,position:`run of site`,price:n/2},{id:`${r}-1`,parentId:r,name:`supplier ${t}`,format:`480x600`,position:`run of site`,price:n*.25},{id:`${r}-2`,parentId:r,name:`supplier ${t}`,format:`328x70`,position:`run of site`,price:n*.25}],isExpanded:!1};e.push(i)}return e}function p(e,t){let n=e.findIndex(e=>e.id===t),r=e[n],{children:i}=r;if(!i)return e;let a=e.with(n,{...r,isExpanded:!r.isExpanded});return r.isExpanded?a.splice(n+1,i.length):a.splice(n+1,0,...i),a}function m(e,t){let n=e.find(e=>e.id===t);if(n?.parentId===void 0)return e;let r=e.filter(e=>e.id!==t),i=r.findIndex(e=>e.id===n.parentId),{children:a}=r[i];if(a){let e=a.filter(e=>e.id!==t);r[i]={...r[i],children:e}}return r}function h(e,{type:t,id:n}){switch(t){case`toggleSubRow`:return p(e,n);case`deleteSubRow`:return m(e,n);default:return e}}var g=f();function _(){let n=t(),[r,i]=(0,u.useReducer)(h,g),[s,c]=(0,u.useState)(!0),f=(0,u.useMemo)(()=>[{key:`id`,name:`id`,frozen:!0},{key:`name`,name:`Name`},{key:`format`,name:`format`,renderCell({row:e,tabIndex:t}){let n=e.children!==void 0,r=n?void 0:{marginInlineStart:30};return(0,o.jsxs)(`div`,{className:`css-9ebb470e`,children:[n&&(0,o.jsx)(a,{tabIndex:t,expanded:e.isExpanded===!0,onCellExpand:()=>i({id:e.id,type:`toggleSubRow`})}),!n&&(0,o.jsx)(l,{tabIndex:t,isDeleteSubRowEnabled:s,onDeleteSubRow:()=>i({id:e.id,type:`deleteSubRow`})}),(0,o.jsx)(`div`,{style:r,children:e.format})]})}},{key:`position`,name:`position`},{key:`price`,name:`price`}],[s]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(`label`,{children:[`Allow Delete`,(0,o.jsx)(`input`,{type:`checkbox`,checked:s,onChange:()=>c(!s)})]}),(0,o.jsx)(e,{"aria-label":`TreeView Example`,columns:f,rows:r,className:d,direction:n})]})}export{_ as component};
//# sourceMappingURL=TreeView-DblY7BJL.js.map