import{u as w,r as l,j as t,a as j,f as u}from"./index-BHsmfXQu.js";import{D as C}from"./DataGrid-D0KgVg7Z.js";const h="c1wfxb71";function y(){const r=[];for(let s=1;s<1e3;s++)r.push({id:s,product:u.commerce.productName(),price:u.commerce.price()});return r}const R=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function b(r){return r.id}const I=function(){const s=w(),[o,d]=l.useState(y),[x,f]=l.useReducer(e=>e+1,o[o.length-1].id+1),[c,i]=l.useState(null),m=l.useRef(null),a=c!==null;l.useLayoutEffect(()=>{if(!a)return;function e(n){n.target instanceof Node&&m.current?.contains(n.target)||i(null)}return addEventListener("click",e),()=>{removeEventListener("click",e)}},[a]);function p(e){const n={id:x,product:u.commerce.productName(),price:u.commerce.price()};d([...o.slice(0,e),n,...o.slice(e)]),f()}return t.jsxs(t.Fragment,{children:[t.jsx(C,{rowKeyGetter:b,columns:R,rows:o,className:"fill-grid",direction:s,onCellContextMenu:({row:e},n)=>{n.preventGridDefault(),n.preventDefault(),i({rowIdx:o.indexOf(e),top:n.clientY,left:n.clientX})}}),a&&j.createPortal(t.jsxs("menu",{ref:m,className:h,style:{top:c.top,left:c.left},children:[t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=c;d([...o.slice(0,e),...o.slice(e+1)]),i(null)},children:"Delete Row"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=c;p(e),i(null)},children:"Insert Row Above"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=c;p(e+1),i(null)},children:"Insert Row Below"})})]}),document.body)]})};export{I as component};
//# sourceMappingURL=ContextMenu-CkxjfMIq.js.map
