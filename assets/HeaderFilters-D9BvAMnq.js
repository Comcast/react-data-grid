import{c as e,d as t,l as n,n as r}from"./index-CWsLROoH.js";import{t as i}from"./DataGrid-Bj2otu-8.js";var a=t(),o=n(),s=`css-442e81d8`,c=`css-f5f438ac`,l=`filter-cell`,u=`css-de169fb1`,d=`css-280b5984`,f=(0,a.createContext)(void 0);function p(e){[`ArrowLeft`,`ArrowRight`].includes(e.key)&&e.stopPropagation()}function m(e){[`ArrowLeft`,`ArrowRight`,`ArrowUp`,`ArrowDown`].includes(e.key)&&e.stopPropagation()}function h(){let t=e(),[n]=(0,a.useState)(_),[r,h]=(0,a.useState)(()=>({task:``,priority:`Critical`,issueType:`All`,developer:``,complete:void 0,enabled:!0})),v=(0,a.useMemo)(()=>Array.from(new Set(n.map(e=>e.developer))).map(e=>({label:e,value:e})),[n]),y=(0,a.useMemo)(()=>[{key:`id`,name:`ID`,width:50},{key:`task`,name:`Title`,headerCellClass:l,renderHeaderCell:e=>(0,o.jsx)(g,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,className:d,value:e.task,onChange:t=>h({...e,task:t.target.value}),onKeyDown:p})})},{key:`priority`,name:`Priority`,headerCellClass:l,renderHeaderCell:e=>(0,o.jsx)(g,{...e,children:({filters:e,...t})=>(0,o.jsxs)(`select`,{...t,className:d,value:e.priority,onChange:t=>h({...e,priority:t.target.value}),onKeyDown:m,children:[(0,o.jsx)(`option`,{value:`All`,children:`All`}),(0,o.jsx)(`option`,{value:`Critical`,children:`Critical`}),(0,o.jsx)(`option`,{value:`High`,children:`High`}),(0,o.jsx)(`option`,{value:`Medium`,children:`Medium`}),(0,o.jsx)(`option`,{value:`Low`,children:`Low`})]})})},{key:`issueType`,name:`Issue Type`,headerCellClass:l,renderHeaderCell:e=>(0,o.jsx)(g,{...e,children:({filters:e,...t})=>(0,o.jsxs)(`select`,{...t,className:d,value:e.issueType,onChange:t=>h({...e,issueType:t.target.value}),onKeyDown:m,children:[(0,o.jsx)(`option`,{value:`All`,children:`All`}),(0,o.jsx)(`option`,{value:`Bug`,children:`Bug`}),(0,o.jsx)(`option`,{value:`Improvement`,children:`Improvement`}),(0,o.jsx)(`option`,{value:`Epic`,children:`Epic`}),(0,o.jsx)(`option`,{value:`Story`,children:`Story`})]})})},{key:`developer`,name:`Developer`,headerCellClass:l,renderHeaderCell:e=>(0,o.jsx)(g,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,className:d,value:e.developer,onChange:t=>h({...e,developer:t.target.value}),onKeyDown:p,list:`developers`})})},{key:`complete`,name:`% Complete`,headerCellClass:l,renderHeaderCell:e=>(0,o.jsx)(g,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,type:`number`,className:d,value:e.complete,onChange:t=>h({...e,complete:Number.isFinite(t.target.valueAsNumber)?t.target.valueAsNumber:void 0}),onKeyDown:p})})}],[]),b=(0,a.useMemo)(()=>n.filter(e=>(r.task?e.task.includes(r.task):!0)&&(r.priority===`All`?!0:e.priority===r.priority)&&(r.issueType===`All`?!0:e.issueType===r.issueType)&&(r.developer?e.developer.toLowerCase().startsWith(r.developer.toLowerCase()):!0)&&(r.complete===void 0?!0:e.complete>=r.complete)),[n,r]);function x(){h({task:``,priority:`All`,issueType:`All`,developer:``,complete:void 0,enabled:!0})}function S(){h(e=>({...e,enabled:!e.enabled}))}return(0,o.jsxs)(`div`,{className:s,children:[(0,o.jsxs)(`div`,{className:c,children:[(0,o.jsx)(`button`,{type:`button`,onClick:S,children:`Toggle Filters`}),` `,(0,o.jsx)(`button`,{type:`button`,onClick:x,children:`Clear Filters`})]}),(0,o.jsx)(f,{value:r,children:(0,o.jsx)(i,{"aria-label":`Header Filters Example`,className:r.enabled?u:void 0,columns:y,rows:b,headerRowHeight:r.enabled?70:void 0,direction:t,style:{scrollbarGutter:`stable`}})}),(0,o.jsx)(`datalist`,{id:`developers`,children:v.map(({label:e,value:t})=>(0,o.jsx)(`option`,{value:t,children:e},t))})]})}function g({tabIndex:e,column:t,children:n}){let r=(0,a.useContext)(f);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`div`,{children:t.name}),r.enabled&&(0,o.jsx)(`div`,{children:n({tabIndex:e,filters:r})})]})}function _(){let e=[];for(let t=1;t<500;t++)e.push({id:t,task:`Task ${t}`,complete:Math.min(100,Math.round(Math.random()*110)),priority:[`Critical`,`High`,`Medium`,`Low`][Math.floor(Math.random()*4)],issueType:[`Bug`,`Improvement`,`Epic`,`Story`][Math.floor(Math.random()*4)],developer:r.person.fullName()});return e}export{h as component};
//# sourceMappingURL=HeaderFilters-D9BvAMnq.js.map