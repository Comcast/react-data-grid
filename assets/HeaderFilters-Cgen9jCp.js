import{c as e,i as t,j as n,l as r,o as i}from"./index-3VpCW0rt.js";import{b as a}from"./DataGrid-B8l6wmrb.js";var o=i(n()),s=i(r());const c=`filter-cell`,l=`ffjqh3z`,u=(0,s.createContext)(void 0);function d(e){[`ArrowLeft`,`ArrowRight`].includes(e.key)&&e.stopPropagation()}function f(e){[`ArrowLeft`,`ArrowRight`,`ArrowUp`,`ArrowDown`].includes(e.key)&&e.stopPropagation()}function p(){let e=t(),[n]=(0,s.useState)(h),[r,i]=(0,s.useState)(()=>({task:``,priority:`Critical`,issueType:`All`,developer:``,complete:void 0,enabled:!0})),p=(0,s.useMemo)(()=>Array.from(new Set(n.map(e=>e.developer))).map(e=>({label:e,value:e})),[n]),g=(0,s.useMemo)(()=>[{key:`id`,name:`ID`,width:50},{key:`task`,name:`Title`,headerCellClass:c,renderHeaderCell:e=>(0,o.jsx)(m,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,className:l,value:e.task,onChange:t=>i({...e,task:t.target.value}),onKeyDown:d})})},{key:`priority`,name:`Priority`,headerCellClass:c,renderHeaderCell:e=>(0,o.jsx)(m,{...e,children:({filters:e,...t})=>(0,o.jsxs)(`select`,{...t,className:l,value:e.priority,onChange:t=>i({...e,priority:t.target.value}),onKeyDown:f,children:[(0,o.jsx)(`option`,{value:`All`,children:`All`}),(0,o.jsx)(`option`,{value:`Critical`,children:`Critical`}),(0,o.jsx)(`option`,{value:`High`,children:`High`}),(0,o.jsx)(`option`,{value:`Medium`,children:`Medium`}),(0,o.jsx)(`option`,{value:`Low`,children:`Low`})]})})},{key:`issueType`,name:`Issue Type`,headerCellClass:c,renderHeaderCell:e=>(0,o.jsx)(m,{...e,children:({filters:e,...t})=>(0,o.jsxs)(`select`,{...t,className:l,value:e.issueType,onChange:t=>i({...e,issueType:t.target.value}),onKeyDown:f,children:[(0,o.jsx)(`option`,{value:`All`,children:`All`}),(0,o.jsx)(`option`,{value:`Bug`,children:`Bug`}),(0,o.jsx)(`option`,{value:`Improvement`,children:`Improvement`}),(0,o.jsx)(`option`,{value:`Epic`,children:`Epic`}),(0,o.jsx)(`option`,{value:`Story`,children:`Story`})]})})},{key:`developer`,name:`Developer`,headerCellClass:c,renderHeaderCell:e=>(0,o.jsx)(m,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,className:l,value:e.developer,onChange:t=>i({...e,developer:t.target.value}),onKeyDown:d,list:`developers`})})},{key:`complete`,name:`% Complete`,headerCellClass:c,renderHeaderCell:e=>(0,o.jsx)(m,{...e,children:({filters:e,...t})=>(0,o.jsx)(`input`,{...t,type:`number`,className:l,value:e.complete,onChange:t=>i({...e,complete:Number.isFinite(t.target.valueAsNumber)?t.target.valueAsNumber:void 0}),onKeyDown:d})})}],[]),_=(0,s.useMemo)(()=>n.filter(e=>(r.task?e.task.includes(r.task):!0)&&(r.priority===`All`?!0:e.priority===r.priority)&&(r.issueType===`All`?!0:e.issueType===r.issueType)&&(r.developer?e.developer.toLowerCase().startsWith(r.developer.toLowerCase()):!0)&&(r.complete===void 0?!0:e.complete>=r.complete)),[n,r]);function v(){i({task:``,priority:`All`,issueType:`All`,developer:``,complete:void 0,enabled:!0})}function y(){i(e=>({...e,enabled:!e.enabled}))}return(0,o.jsxs)(`div`,{className:`r1a6zgxl`,children:[(0,o.jsxs)(`div`,{className:`t13nrsgy`,children:[(0,o.jsx)(`button`,{type:`button`,onClick:y,children:`Toggle Filters`}),` `,(0,o.jsx)(`button`,{type:`button`,onClick:v,children:`Clear Filters`})]}),(0,o.jsx)(u,{value:r,children:(0,o.jsx)(a,{"aria-label":`Header Filters Example`,className:r.enabled?`fjcbdxy`:void 0,columns:g,rows:_,headerRowHeight:r.enabled?70:void 0,direction:e,style:{scrollbarGutter:`stable`}})}),(0,o.jsx)(`datalist`,{id:`developers`,children:p.map(({label:e,value:t})=>(0,o.jsx)(`option`,{value:t,children:e},t))})]})}function m({tabIndex:e,column:t,children:n}){let r=(0,s.useContext)(u);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`div`,{children:t.name}),r.enabled&&(0,o.jsx)(`div`,{children:n({tabIndex:e,filters:r})})]})}function h(){let t=[];for(let n=1;n<500;n++)t.push({id:n,task:`Task ${n}`,complete:Math.min(100,Math.round(Math.random()*110)),priority:[`Critical`,`High`,`Medium`,`Low`][Math.floor(Math.random()*4)],issueType:[`Bug`,`Improvement`,`Epic`,`Story`][Math.floor(Math.random()*4)],developer:e.person.fullName()});return t}export{p as component};
//# sourceMappingURL=HeaderFilters-Cgen9jCp.js.map