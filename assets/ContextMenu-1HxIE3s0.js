import{c as e,d as t,l as n,n as r,u as i}from"./index-BUC-VXd4.js";import{t as a}from"./DataGrid-Bi99oE0Z.js";var o=n(),s=i(),c=t(),l=`c1wfxb71`;function u(){let e=[];for(let t=1;t<1e3;t++)e.push({id:t,product:r.commerce.productName(),price:r.commerce.price()});return e}var d=[{key:`id`,name:`ID`},{key:`product`,name:`Product`},{key:`price`,name:`Price`}];function f(e){return e.id}function p(){let t=e(),[n,i]=(0,c.useState)(u),[p,m]=(0,c.useReducer)(e=>e+1,n[n.length-1].id+1),[h,g]=(0,c.useState)(null),_=(0,c.useRef)(null),v=h!==null;(0,c.useLayoutEffect)(()=>{if(!v)return;function e(e){e.target instanceof Node&&_.current?.contains(e.target)||g(null)}return addEventListener(`mousedown`,e),()=>{removeEventListener(`mousedown`,e)}},[v]);function y(e){let t={id:p,product:r.commerce.productName(),price:r.commerce.price()};i(n.toSpliced(e,0,t)),m()}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{"aria-label":`Context Menu Example`,rowKeyGetter:f,columns:d,rows:n,className:`fill-grid`,direction:t,onCellContextMenu:({row:e},t)=>{t.preventGridDefault(),t.preventDefault(),g({rowIdx:n.indexOf(e),top:t.clientY,left:t.clientX})}}),v&&(0,s.createPortal)((0,o.jsxs)(`menu`,{ref:_,className:l,style:{top:h.top,left:h.left},children:[(0,o.jsx)(`li`,{children:(0,o.jsx)(`button`,{type:`button`,onClick:()=>{i(n.toSpliced(h.rowIdx,1)),g(null)},children:`Delete Row`})}),(0,o.jsx)(`li`,{children:(0,o.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=h;y(e),g(null)},children:`Insert Row Above`})}),(0,o.jsx)(`li`,{children:(0,o.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=h;y(e+1),g(null)},children:`Insert Row Below`})})]}),document.body)]})}export{p as component};
//# sourceMappingURL=ContextMenu-1HxIE3s0.js.map