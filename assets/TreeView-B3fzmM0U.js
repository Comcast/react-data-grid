import{j as s,u as m,r as l}from"./index-DRUesQ3G.js";import{C as f}from"./CellExpanderFormatter-CBtqaxY2.js";import{D as x}from"./DataGrid-D4nOs5hM.js";const h="c7yetp1",w="c19u2cv5";function R({tabIndex:i,onDeleteSubRow:n,isDeleteSubRowEnabled:t}){function e(o){o.key==="Enter"&&(o.preventDefault(),n())}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:h}),t&&s.jsx("div",{className:w,onClick:n,children:s.jsx("span",{tabIndex:i,onKeyDown:e,children:"‚ùå"})})]})}const j="g10exsj8";function g(){const i=[];for(let n=0;n<100;n++){const t=Math.random()*30,e=`row${n}`,o={id:e,name:`supplier ${n}`,format:`package ${n}`,position:"Run of site",price:t,children:[{id:`${e}-0`,parentId:e,name:`supplier ${n}`,format:"728x90",position:"run of site",price:t/2},{id:`${e}-1`,parentId:e,name:`supplier ${n}`,format:"480x600",position:"run of site",price:t*.25},{id:`${e}-2`,parentId:e,name:`supplier ${n}`,format:"328x70",position:"run of site",price:t*.25}],isExpanded:!1};i.push(o)}return i}function C(i,n){const t=i.findIndex(r=>r.id===n),e=i[t],{children:o}=e;if(!o)return i;const c=i.with(t,{...e,isExpanded:!e.isExpanded});return e.isExpanded?c.splice(t+1,o.length):c.splice(t+1,0,...o),c}function y(i,n){const t=i.find(r=>r.id===n);if(t?.parentId===void 0)return i;const e=i.filter(r=>r.id!==n),o=e.findIndex(r=>r.id===t.parentId),{children:c}=e[o];if(c){const r=c.filter(a=>a.id!==n);e[o]={...e[o],children:r}}return e}function D(i,{type:n,id:t}){switch(n){case"toggleSubRow":return C(i,t);case"deleteSubRow":return y(i,t);default:return i}}const E=g(),v=function(){const n=m(),[t,e]=l.useReducer(D,E),[o,c]=l.useState(!0),r=l.useMemo(()=>[{key:"id",name:"id",frozen:!0},{key:"name",name:"Name"},{key:"format",name:"format",renderCell({row:a,tabIndex:p}){const d=a.children!==void 0,u=d?void 0:{marginInlineStart:30};return s.jsxs("div",{className:"cxitq4r",children:[d&&s.jsx(f,{tabIndex:p,expanded:a.isExpanded===!0,onCellExpand:()=>e({id:a.id,type:"toggleSubRow"})}),!d&&s.jsx(R,{tabIndex:p,isDeleteSubRowEnabled:o,onDeleteSubRow:()=>e({id:a.id,type:"deleteSubRow"})}),s.jsx("div",{style:u,children:a.format})]})}},{key:"position",name:"position"},{key:"price",name:"price"}],[o]);return s.jsxs(s.Fragment,{children:[s.jsxs("label",{children:["Allow Delete",s.jsx("input",{type:"checkbox",checked:o,onChange:()=>c(!o)})]}),s.jsx(x,{columns:r,rows:t,className:j,direction:n})]})};export{v as component};
//# sourceMappingURL=TreeView-B3fzmM0U.js.map
