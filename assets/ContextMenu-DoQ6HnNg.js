import{b as e}from"./DataGrid-BuQ6twy2.js";import{c as t,f as n,g as r,h as i,i as a,k as o}from"./index-Do-bJdkE.js";var s=o(a()),c=o(i()),l=o(r());const u=`c1wfxb71`;function d(){let e=[];for(let n=1;n<1e3;n++)e.push({id:n,product:t.commerce.productName(),price:t.commerce.price()});return e}const f=[{key:`id`,name:`ID`},{key:`product`,name:`Product`},{key:`price`,name:`Price`}];function p(e){return e.id}const m=function(){let r=n(),[i,a]=(0,s.useState)(d),[o,m]=(0,s.useReducer)(e=>e+1,i[i.length-1].id+1),[h,g]=(0,s.useState)(null),_=(0,s.useRef)(null),v=h!==null;(0,s.useLayoutEffect)(()=>{if(!v)return;function e(e){e.target instanceof Node&&_.current?.contains(e.target)||g(null)}return addEventListener(`mousedown`,e),()=>{removeEventListener(`mousedown`,e)}},[v]);function y(e){let n={id:o,product:t.commerce.productName(),price:t.commerce.price()};a(i.toSpliced(e,0,n)),m()}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e,{"aria-label":`Context Menu Example`,rowKeyGetter:p,columns:f,rows:i,className:`fill-grid`,direction:r,onCellContextMenu:({row:e},t)=>{t.preventGridDefault(),t.preventDefault(),g({rowIdx:i.indexOf(e),top:t.clientY,left:t.clientX})}}),v&&(0,c.createPortal)((0,l.jsxs)(`menu`,{ref:_,className:u,style:{top:h.top,left:h.left},children:[(0,l.jsx)(`li`,{children:(0,l.jsx)(`button`,{type:`button`,onClick:()=>{a(i.toSpliced(h.rowIdx,1)),g(null)},children:`Delete Row`})}),(0,l.jsx)(`li`,{children:(0,l.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=h;y(e),g(null)},children:`Insert Row Above`})}),(0,l.jsx)(`li`,{children:(0,l.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=h;y(e+1),g(null)},children:`Insert Row Below`})})]}),document.body)]})};export{m as component};
//# sourceMappingURL=ContextMenu-DoQ6HnNg.js.map