import{u as w,r as l,j as t,a as j,f as u}from"./index-CHWLqwqL.js";import{D as C}from"./DataGrid-DN-oQvCc.js";const R="c1wfxb71";function h(){const c=[];for(let s=1;s<1e3;s++)c.push({id:s,product:u.commerce.productName(),price:u.commerce.price()});return c}const y=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function b(c){return c.id}const I=function(){const s=w(),[o,a]=l.useState(h),[x,f]=l.useReducer(e=>e+1,o[o.length-1].id+1),[r,i]=l.useState(null),p=l.useRef(null),d=r!==null;l.useLayoutEffect(()=>{if(!d)return;function e(n){n.target instanceof Node&&p.current?.contains(n.target)||i(null)}return addEventListener("click",e),()=>{removeEventListener("click",e)}},[d]);function m(e){const n={id:x,product:u.commerce.productName(),price:u.commerce.price()};a(o.toSpliced(e,0,n)),f()}return t.jsxs(t.Fragment,{children:[t.jsx(C,{rowKeyGetter:b,columns:y,rows:o,className:"fill-grid",direction:s,onCellContextMenu:({row:e},n)=>{n.preventGridDefault(),n.preventDefault(),i({rowIdx:o.indexOf(e),top:n.clientY,left:n.clientX})}}),d&&j.createPortal(t.jsxs("menu",{ref:p,className:R,style:{top:r.top,left:r.left},children:[t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{a(o.toSpliced(r.rowIdx,1)),i(null)},children:"Delete Row"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;m(e),i(null)},children:"Insert Row Above"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;m(e+1),i(null)},children:"Insert Row Below"})})]}),document.body)]})};export{I as component};
//# sourceMappingURL=ContextMenu-4wljpJmc.js.map
