import{t as e}from"./DataGrid-BDaD26v_.js";import{c as t,d as n,l as r,m as i,n as a}from"./index-z-cRJdG7.js";var o=i(n()),s=i(r()),c=`css-442e81d8`,l=`css-f5f438ac`,u=`filter-cell`,d=`css-de169fb1`,f=`css-280b5984`,p=(0,o.createContext)(void 0);function m(e){[`ArrowLeft`,`ArrowRight`].includes(e.key)&&e.stopPropagation()}function h(e){[`ArrowLeft`,`ArrowRight`,`ArrowUp`,`ArrowDown`].includes(e.key)&&e.stopPropagation()}function g(){let n=t(),[r]=(0,o.useState)(v),[i,a]=(0,o.useState)(()=>({task:``,priority:`Critical`,issueType:`All`,developer:``,complete:void 0,enabled:!0})),g=(0,o.useMemo)(()=>Array.from(new Set(r.map(e=>e.developer))).map(e=>({label:e,value:e})),[r]),y=(0,o.useMemo)(()=>[{key:`id`,name:`ID`,width:50},{key:`task`,name:`Title`,headerCellClass:u,renderHeaderCell:e=>(0,s.jsx)(_,{...e,children:({filters:e,...t})=>(0,s.jsx)(`input`,{...t,className:f,value:e.task,onChange:t=>a({...e,task:t.target.value}),onKeyDown:m})})},{key:`priority`,name:`Priority`,headerCellClass:u,renderHeaderCell:e=>(0,s.jsx)(_,{...e,children:({filters:e,...t})=>(0,s.jsxs)(`select`,{...t,className:f,value:e.priority,onChange:t=>a({...e,priority:t.target.value}),onKeyDown:h,children:[(0,s.jsx)(`option`,{value:`All`,children:`All`}),(0,s.jsx)(`option`,{value:`Critical`,children:`Critical`}),(0,s.jsx)(`option`,{value:`High`,children:`High`}),(0,s.jsx)(`option`,{value:`Medium`,children:`Medium`}),(0,s.jsx)(`option`,{value:`Low`,children:`Low`})]})})},{key:`issueType`,name:`Issue Type`,headerCellClass:u,renderHeaderCell:e=>(0,s.jsx)(_,{...e,children:({filters:e,...t})=>(0,s.jsxs)(`select`,{...t,className:f,value:e.issueType,onChange:t=>a({...e,issueType:t.target.value}),onKeyDown:h,children:[(0,s.jsx)(`option`,{value:`All`,children:`All`}),(0,s.jsx)(`option`,{value:`Bug`,children:`Bug`}),(0,s.jsx)(`option`,{value:`Improvement`,children:`Improvement`}),(0,s.jsx)(`option`,{value:`Epic`,children:`Epic`}),(0,s.jsx)(`option`,{value:`Story`,children:`Story`})]})})},{key:`developer`,name:`Developer`,headerCellClass:u,renderHeaderCell:e=>(0,s.jsx)(_,{...e,children:({filters:e,...t})=>(0,s.jsx)(`input`,{...t,className:f,value:e.developer,onChange:t=>a({...e,developer:t.target.value}),onKeyDown:m,list:`developers`})})},{key:`complete`,name:`% Complete`,headerCellClass:u,renderHeaderCell:e=>(0,s.jsx)(_,{...e,children:({filters:e,...t})=>(0,s.jsx)(`input`,{...t,type:`number`,className:f,value:e.complete,onChange:t=>a({...e,complete:Number.isFinite(t.target.valueAsNumber)?t.target.valueAsNumber:void 0}),onKeyDown:m})})}],[]),b=(0,o.useMemo)(()=>r.filter(e=>(i.task?e.task.includes(i.task):!0)&&(i.priority===`All`?!0:e.priority===i.priority)&&(i.issueType===`All`?!0:e.issueType===i.issueType)&&(i.developer?e.developer.toLowerCase().startsWith(i.developer.toLowerCase()):!0)&&(i.complete===void 0?!0:e.complete>=i.complete)),[r,i]);function x(){a({task:``,priority:`All`,issueType:`All`,developer:``,complete:void 0,enabled:!0})}function S(){a(e=>({...e,enabled:!e.enabled}))}return(0,s.jsxs)(`div`,{className:c,children:[(0,s.jsxs)(`div`,{className:l,children:[(0,s.jsx)(`button`,{type:`button`,onClick:S,children:`Toggle Filters`}),` `,(0,s.jsx)(`button`,{type:`button`,onClick:x,children:`Clear Filters`})]}),(0,s.jsx)(p,{value:i,children:(0,s.jsx)(e,{"aria-label":`Header Filters Example`,className:i.enabled?d:void 0,columns:y,rows:b,headerRowHeight:i.enabled?70:void 0,direction:n,style:{scrollbarGutter:`stable`}})}),(0,s.jsx)(`datalist`,{id:`developers`,children:g.map(({label:e,value:t})=>(0,s.jsx)(`option`,{value:t,children:e},t))})]})}function _({tabIndex:e,column:t,children:n}){let r=(0,o.useContext)(p);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(`div`,{children:t.name}),r.enabled&&(0,s.jsx)(`div`,{children:n({tabIndex:e,filters:r})})]})}function v(){let e=[];for(let t=1;t<500;t++)e.push({id:t,task:`Task ${t}`,complete:Math.min(100,Math.round(Math.random()*110)),priority:[`Critical`,`High`,`Medium`,`Low`][Math.floor(Math.random()*4)],issueType:[`Bug`,`Improvement`,`Epic`,`Story`][Math.floor(Math.random()*4)],developer:a.person.fullName()});return e}export{g as component};
//# sourceMappingURL=HeaderFilters-DgfB-b0I.js.map