import{u as w,r as i,j as t,a as j,f as l}from"./index-B4lruM-z.js";import{D as C}from"./DataGrid-OYRRS2qP.js";const R="c1wfxb71";function b(){const c=[];for(let s=1;s<1e3;s++)c.push({id:s,product:l.commerce.productName(),price:l.commerce.price()});return c}const h=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function y(c){return c.id}const M=function(){const s=w(),[o,d]=i.useState(b),[x,f]=i.useReducer(e=>e+1,o[o.length-1].id+1),[r,u]=i.useState(null),m=i.useRef(null),a=r!==null;i.useLayoutEffect(()=>{if(!a)return;function e(n){n.target instanceof Node&&m.current?.contains(n.target)||u(null)}return addEventListener("mousedown",e),()=>{removeEventListener("mousedown",e)}},[a]);function p(e){const n={id:x,product:l.commerce.productName(),price:l.commerce.price()};d(o.toSpliced(e,0,n)),f()}return t.jsxs(t.Fragment,{children:[t.jsx(C,{"aria-label":"Context Menu Example",rowKeyGetter:y,columns:h,rows:o,className:"fill-grid",direction:s,onCellContextMenu:({row:e},n)=>{n.preventGridDefault(),n.preventDefault(),u({rowIdx:o.indexOf(e),top:n.clientY,left:n.clientX})}}),a&&j.createPortal(t.jsxs("menu",{ref:m,className:R,style:{top:r.top,left:r.left},children:[t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{d(o.toSpliced(r.rowIdx,1)),u(null)},children:"Delete Row"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;p(e),u(null)},children:"Insert Row Above"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;p(e+1),u(null)},children:"Insert Row Below"})})]}),document.body)]})};export{M as component};
//# sourceMappingURL=ContextMenu-CIIUjBFq.js.map
