import{c as e,i as t,j as n,k as r,l as i,o as a}from"./index-xES5FvWU.js";import{b as o}from"./DataGrid-Cs2Jr2RL.js";var s=a(n()),c=a(r()),l=a(i());function u(){let t=[];for(let n=1;n<1e3;n++)t.push({id:n,product:e.commerce.productName(),price:e.commerce.price()});return t}const d=[{key:`id`,name:`ID`},{key:`product`,name:`Product`},{key:`price`,name:`Price`}];function f(e){return e.id}function p(){let n=t(),[r,i]=(0,l.useState)(u),[a,p]=(0,l.useReducer)(e=>e+1,r[r.length-1].id+1),[m,h]=(0,l.useState)(null),g=(0,l.useRef)(null),_=m!==null;(0,l.useLayoutEffect)(()=>{if(!_)return;function e(e){e.target instanceof Node&&g.current?.contains(e.target)||h(null)}return addEventListener(`mousedown`,e),()=>{removeEventListener(`mousedown`,e)}},[_]);function v(t){let n={id:a,product:e.commerce.productName(),price:e.commerce.price()};i(r.toSpliced(t,0,n)),p()}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{"aria-label":`Context Menu Example`,rowKeyGetter:f,columns:d,rows:r,className:`fill-grid`,direction:n,onCellContextMenu:({row:e},t)=>{t.preventGridDefault(),t.preventDefault(),h({rowIdx:r.indexOf(e),top:t.clientY,left:t.clientX})}}),_&&(0,c.createPortal)((0,s.jsxs)(`menu`,{ref:g,className:`c1wfxb71`,style:{top:m.top,left:m.left},children:[(0,s.jsx)(`li`,{children:(0,s.jsx)(`button`,{type:`button`,onClick:()=>{i(r.toSpliced(m.rowIdx,1)),h(null)},children:`Delete Row`})}),(0,s.jsx)(`li`,{children:(0,s.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=m;v(e),h(null)},children:`Insert Row Above`})}),(0,s.jsx)(`li`,{children:(0,s.jsx)(`button`,{type:`button`,onClick:()=>{let{rowIdx:e}=m;v(e+1),h(null)},children:`Insert Row Below`})})]}),document.body)]})}export{p as component};
//# sourceMappingURL=ContextMenu-DV-JmbY7.js.map