import{i as e,j as t,l as n,o as r}from"./index-3VpCW0rt.js";import{b as i}from"./DataGrid-B8l6wmrb.js";import{b as a}from"./CellExpanderFormatter-Ds7bzDs_.js";var o=r(t());function s({tabIndex:e,onDeleteSubRow:t,isDeleteSubRowEnabled:n}){function r(e){e.key===`Enter`&&(e.preventDefault(),t())}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`div`,{className:`c7yetp1`}),n&&(0,o.jsx)(`div`,{className:`c19u2cv5`,onClick:t,children:(0,o.jsx)(`span`,{tabIndex:e,onKeyDown:r,children:`‚ùå`})})]})}var c=r(n());function l(){let e=[];for(let t=0;t<100;t++){let n=Math.random()*30,r=`row${t}`,i={id:r,name:`supplier ${t}`,format:`package ${t}`,position:`Run of site`,price:n,children:[{id:`${r}-0`,parentId:r,name:`supplier ${t}`,format:`728x90`,position:`run of site`,price:n/2},{id:`${r}-1`,parentId:r,name:`supplier ${t}`,format:`480x600`,position:`run of site`,price:n*.25},{id:`${r}-2`,parentId:r,name:`supplier ${t}`,format:`328x70`,position:`run of site`,price:n*.25}],isExpanded:!1};e.push(i)}return e}function u(e,t){let n=e.findIndex(e=>e.id===t),r=e[n],{children:i}=r;if(!i)return e;let a=e.with(n,{...r,isExpanded:!r.isExpanded});return r.isExpanded?a.splice(n+1,i.length):a.splice(n+1,0,...i),a}function d(e,t){let n=e.find(e=>e.id===t);if(n?.parentId===void 0)return e;let r=e.filter(e=>e.id!==t),i=r.findIndex(e=>e.id===n.parentId),{children:a}=r[i];if(a){let e=a.filter(e=>e.id!==t);r[i]={...r[i],children:e}}return r}function f(e,{type:t,id:n}){switch(t){case`toggleSubRow`:return u(e,n);case`deleteSubRow`:return d(e,n);default:return e}}const p=l();function m(){let t=e(),[n,r]=(0,c.useReducer)(f,p),[l,u]=(0,c.useState)(!0),d=(0,c.useMemo)(()=>[{key:`id`,name:`id`,frozen:!0},{key:`name`,name:`Name`},{key:`format`,name:`format`,renderCell({row:e,tabIndex:t}){let n=e.children!==void 0,i=n?void 0:{marginInlineStart:30};return(0,o.jsxs)(`div`,{className:`cxitq4r`,children:[n&&(0,o.jsx)(a,{tabIndex:t,expanded:e.isExpanded===!0,onCellExpand:()=>r({id:e.id,type:`toggleSubRow`})}),!n&&(0,o.jsx)(s,{tabIndex:t,isDeleteSubRowEnabled:l,onDeleteSubRow:()=>r({id:e.id,type:`deleteSubRow`})}),(0,o.jsx)(`div`,{style:i,children:e.format})]})}},{key:`position`,name:`position`},{key:`price`,name:`price`}],[l]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(`label`,{children:[`Allow Delete`,(0,o.jsx)(`input`,{type:`checkbox`,checked:l,onChange:()=>u(!l)})]}),(0,o.jsx)(i,{"aria-label":`TreeView Example`,columns:d,rows:n,className:`g10exsj8`,direction:t})]})}export{m as component};
//# sourceMappingURL=TreeView-v5BJmlZj.js.map