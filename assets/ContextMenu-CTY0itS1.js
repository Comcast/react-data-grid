import{u as w,r as i,j as t,a as j,f as l}from"./index-DRUesQ3G.js";import{D as R}from"./DataGrid-D4nOs5hM.js";const h="c1wfxb71";function y(){const c=[];for(let s=1;s<1e3;s++)c.push({id:s,product:l.commerce.productName(),price:l.commerce.price()});return c}const C=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function D(c){return c.id}const M=function(){const s=w(),[o,a]=i.useState(y),[x,f]=i.useReducer(e=>e+1,o[o.length-1].id+1),[r,u]=i.useState(null),m=i.useRef(null),d=r!==null;i.useLayoutEffect(()=>{if(!d)return;function e(n){n.target instanceof Node&&m.current?.contains(n.target)||u(null)}return addEventListener("mousedown",e),()=>{removeEventListener("mousedown",e)}},[d]);function p(e){const n={id:x,product:l.commerce.productName(),price:l.commerce.price()};a(o.toSpliced(e,0,n)),f()}return t.jsxs(t.Fragment,{children:[t.jsx(R,{rowKeyGetter:D,columns:C,rows:o,className:"fill-grid",direction:s,onCellContextMenu:({row:e},n)=>{n.preventGridDefault(),n.preventDefault(),u({rowIdx:o.indexOf(e),top:n.clientY,left:n.clientX})}}),d&&j.createPortal(t.jsxs("menu",{ref:m,className:h,style:{top:r.top,left:r.left},children:[t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{a(o.toSpliced(r.rowIdx,1)),u(null)},children:"Delete Row"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;p(e),u(null)},children:"Insert Row Above"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;p(e+1),u(null)},children:"Insert Row Below"})})]}),document.body)]})};export{M as component};
//# sourceMappingURL=ContextMenu-CTY0itS1.js.map
