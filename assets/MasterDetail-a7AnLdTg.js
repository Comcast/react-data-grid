import{u as y,r as s,j as c,f as p}from"./index-Dx6kd565.js";import{D as a}from"./DataGrid-COQcQMgt.js";import{C as D}from"./CellExpanderFormatter-3YuST0ai.js";function x(){const r=[];for(let t=1;t<30;t++)r.push({type:"MASTER",id:t,department:p.commerce.department(),expanded:!1});return r}const d=new Map;function h(r){if(d.has(r))return d.get(r);const t=[];for(let o=0;o<20;o++)t.push({id:o,product:p.commerce.productName(),description:p.commerce.productDescription(),price:p.commerce.price()});return d.set(r,t),t}const E=[{key:"id",name:"ID",width:35},{key:"product",name:"Product"},{key:"description",name:"Description"},{key:"price",name:"Price"}];function C({parentId:r,direction:t}){const o=h(r);return c.jsx(a,{rows:o,columns:E,rowKeyGetter:u,style:{blockSize:250},direction:t})}function u(r){return r.id}const A=function(){const t=y(),o=s.useMemo(()=>[{key:"expanded",name:"",minWidth:30,width:30,colSpan(e){return e.type==="ROW"&&e.row.type==="DETAIL"?3:void 0},cellClass(e){return e.type==="DETAIL"?"c1e3rre1":void 0},renderCell({row:e,tabIndex:n,onRowChange:i}){return e.type==="DETAIL"?c.jsx(C,{parentId:e.parentId,direction:t}):c.jsx(D,{expanded:e.expanded,tabIndex:n,onCellExpand:()=>{i({...e,expanded:!e.expanded})}})}},{key:"id",name:"ID",width:35},{key:"department",name:"Department"}],[t]),[m,l]=s.useState(x);function f(e,{indexes:n}){const i=e[n[0]];i.type==="MASTER"&&(i.expanded?e.splice(n[0]+1,0,{type:"DETAIL",id:i.id+100,parentId:i.id}):e.splice(n[0]+1,1),l(e))}return c.jsx(a,{rowKeyGetter:u,columns:o,rows:m,onRowsChange:f,headerRowHeight:45,rowHeight:e=>e.type==="DETAIL"?300:45,className:"fill-grid",enableVirtualization:!1,direction:t,onCellKeyDown:(e,n)=>{n.isDefaultPrevented()&&n.preventGridDefault()}})};export{A as component};
//# sourceMappingURL=MasterDetail-a7AnLdTg.js.map
