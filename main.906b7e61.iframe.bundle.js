(globalThis.webpackChunkreact_data_grid=globalThis.webpackChunkreact_data_grid||[]).push([[179],{50046:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(16874)],module,!1)},23849:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject);var client_api=__webpack_require__(78880),esm=__webpack_require__(23827);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__(82192),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,client_api.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,client_api.HZ)(loader,!1)}));case"parameters":return(0,client_api.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,client_api.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,client_api._C)(enhancer)}));case"render":return(0,client_api.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,client_api.h1)(v,!1);default:return console.log(key+" was not supported :( !")}}))},52167:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__(3012)},70779:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllFeatures:()=>AllFeatures,CellNavigation:()=>CellNavigation,ColumnSpanning:()=>ColumnSpanning,ColumnsReordering:()=>ColumnsReordering,CommonFeatures:()=>CommonFeatures,ContextMenuStory:()=>ContextMenuStory,Grouping:()=>Grouping,HeaderFilters:()=>HeaderFilters,InfiniteScrolling:()=>InfiniteScrolling,MasterDetailStory:()=>MasterDetailStory,MillionCells:()=>MillionCells,NoRows:()=>NoRows,ResizableGrid:()=>ResizableGrid,RowsReordering:()=>RowsReordering,ScrollToRow:()=>ScrollToRow,TreeView:()=>TreeView,VariableRowHeight:()=>VariableRowHeight,default:()=>index_story});var react=__webpack_require__(67294),faker=__webpack_require__(85384),faker_default=__webpack_require__.n(faker),clsx_m=__webpack_require__(86010);const useLayoutEffect="undefined"==typeof window?react.useEffect:react.useLayoutEffect;function useFocusRef(isSelected){const ref=(0,react.useRef)(null);return useLayoutEffect((()=>{var _ref$current;isSelected&&(null==(_ref$current=ref.current)||_ref$current.focus({preventScroll:!0}))}),[isSelected]),{ref,tabIndex:isSelected?0:-1}}var jsx_runtime=__webpack_require__(85893);function SelectCellFormatter({value,isCellSelected,disabled,onClick,onChange,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy}){const{ref,tabIndex}=useFocusRef(isCellSelected);return(0,jsx_runtime.jsxs)("label",{className:(0,clsx_m.Z)("rdg-checkbox-label c4l3n6v",disabled&&"rdg-checkbox-label-disabled c1jlcvp4"),children:[(0,jsx_runtime.jsx)("input",{"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,ref,type:"checkbox",tabIndex,className:"rdg-checkbox-input c1bikpmb",disabled,checked:value,onChange:function handleChange(e){onChange(e.target.checked,e.nativeEvent.shiftKey)},onClick}),(0,jsx_runtime.jsx)("div",{className:"rdg-checkbox c1eyot7g"})]})}__webpack_require__(35764);try{SelectCellFormatter.displayName="SelectCellFormatter",SelectCellFormatter.__docgenInfo={description:"",displayName:"SelectCellFormatter",props:{isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: boolean, isShiftClick: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/formatters/SelectCellFormatter.tsx#SelectCellFormatter"]={docgenInfo:SelectCellFormatter.__docgenInfo,name:"SelectCellFormatter",path:"src/formatters/SelectCellFormatter.tsx#SelectCellFormatter"})}catch(__react_docgen_typescript_loader_error){}const RowSelectionContext=(0,react.createContext)(void 0),RowSelectionProvider=RowSelectionContext.Provider,RowSelectionChangeContext=(0,react.createContext)(void 0),RowSelectionChangeProvider=RowSelectionChangeContext.Provider;function useRowSelection(){const rowSelectionContext=(0,react.useContext)(RowSelectionContext),rowSelectionChangeContext=(0,react.useContext)(RowSelectionChangeContext);if(void 0===rowSelectionContext||void 0===rowSelectionChangeContext)throw new Error("useRowSelection must be used within DataGrid cells");return[rowSelectionContext,rowSelectionChangeContext]}function stopPropagation(event){event.stopPropagation()}const SelectColumn={key:"select-row",name:"",width:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,headerRenderer:props=>(0,jsx_runtime.jsx)(SelectCellFormatter,{"aria-label":"Select All",isCellSelected:props.isCellSelected,value:props.allRowsSelected,onChange:props.onAllRowsSelectionChange,onClick:stopPropagation}),formatter:function SelectFormatter(props){const[isRowSelected,onRowSelectionChange]=useRowSelection();return(0,jsx_runtime.jsx)(SelectCellFormatter,{"aria-label":"Select",isCellSelected:props.isCellSelected,value:isRowSelected,onClick:stopPropagation,onChange:(checked,isShiftClick)=>{onRowSelectionChange({row:props.row,checked,isShiftClick})}})},groupFormatter:function SelectGroupFormatter(props){const[isRowSelected,onRowSelectionChange]=useRowSelection();return(0,jsx_runtime.jsx)(SelectCellFormatter,{"aria-label":"Select Group",isCellSelected:props.isCellSelected,value:isRowSelected,onChange:checked=>{onRowSelectionChange({row:props.row,checked,isShiftClick:!1})},onClick:stopPropagation})}};function autoFocusAndSelect(input){null==input||input.focus(),null==input||input.select()}function TextEditor({row,column,onRowChange,onClose}){return(0,jsx_runtime.jsx)("input",{className:"rdg-text-editor t1u15qzo",ref:autoFocusAndSelect,value:row[column.key],onChange:event=>onRowChange({...row,[column.key]:event.target.value}),onBlur:()=>onClose(!0)})}__webpack_require__(93841);try{TextEditor.displayName="TextEditor",TextEditor.__docgenInfo={description:"",displayName:"TextEditor",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<TRow, TSummaryRow>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"TRow"}},editorPortalTarget:{defaultValue:null,description:"",name:"editorPortalTarget",required:!0,type:{name:"Element"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(row: TRow, commitChanges?: boolean | undefined) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(commitChanges?: boolean | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/editors/TextEditor.tsx#TextEditor"]={docgenInfo:TextEditor.__docgenInfo,name:"TextEditor",path:"src/editors/TextEditor.tsx#TextEditor"})}catch(__react_docgen_typescript_loader_error){}function ValueFormatter(props){try{return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.row[props.column.key]})}catch{return null}}__webpack_require__(42995);try{ValueFormatter.displayName="ValueFormatter",ValueFormatter.__docgenInfo={description:"",displayName:"ValueFormatter",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(row: R) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/formatters/ValueFormatter.tsx#ValueFormatter"]={docgenInfo:ValueFormatter.__docgenInfo,name:"ValueFormatter",path:"src/formatters/ValueFormatter.tsx#ValueFormatter"})}catch(__react_docgen_typescript_loader_error){}function ToggleGroupFormatter({groupKey,isExpanded,isCellSelected,toggleGroup}){const{ref,tabIndex}=useFocusRef(isCellSelected);const d=isExpanded?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return(0,jsx_runtime.jsxs)("span",{ref,className:"rdg-group-cell-content g1vzro7t",tabIndex,onKeyDown:function handleKeyDown({key}){"Enter"===key&&toggleGroup()},children:[groupKey,(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:"rdg-caret c1fsqdic","aria-hidden":!0,children:(0,jsx_runtime.jsx)("path",{d})})]})}__webpack_require__(51802);try{ToggleGroupFormatter.displayName="ToggleGroupFormatter",ToggleGroupFormatter.__docgenInfo={description:"",displayName:"ToggleGroupFormatter",props:{groupKey:{defaultValue:null,description:"",name:"groupKey",required:!0,type:{name:"unknown"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"GroupRow<R>"}},childRows:{defaultValue:null,description:"",name:"childRows",required:!0,type:{name:"readonly R[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},toggleGroup:{defaultValue:null,description:"",name:"toggleGroup",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/formatters/ToggleGroupFormatter.tsx#ToggleGroupFormatter"]={docgenInfo:ToggleGroupFormatter.__docgenInfo,name:"ToggleGroupFormatter",path:"src/formatters/ToggleGroupFormatter.tsx#ToggleGroupFormatter"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(41354);const{min,max,floor,sign}=Math;function assertIsValidKeyGetter(keyGetter){if("function"!=typeof keyGetter)throw new Error("Please specify the rowKeyGetter prop to use selection")}function getCellStyle(column,colSpan){return{gridColumnStart:column.idx+1,gridColumnEnd:void 0!==colSpan?`span ${colSpan}`:void 0,left:column.frozen?`var(--frozen-left-${column.idx})`:void 0}}function getCellClassname(column,...extraClasses){return(0,clsx_m.Z)("rdg-cell cj343x0",...extraClasses,column.frozen&&"rdg-cell-frozen csofj7r",column.isLastFrozenColumn&&"rdg-cell-frozen-last ch2wcw8")}function getSpecifiedWidth({key,width},columnWidths,viewportWidth){return columnWidths.has(key)?columnWidths.get(key):"number"==typeof width?width:"string"==typeof width&&/^\d+%$/.test(width)?floor(viewportWidth*parseInt(width,10)/100):void 0}function clampColumnWidth(width,{minWidth,maxWidth},minColumnWidth){return width=max(width,null!=minWidth?minWidth:minColumnWidth),"number"==typeof maxWidth?min(width,maxWidth):width}function useViewportRows({rawRows,rowHeight,clientHeight,scrollTop,groupBy,rowGrouper,expandedGroupIds,enableVirtualization}){const[groupedRows,rowsCount]=(0,react.useMemo)((()=>{if(0===groupBy.length||null==rowGrouper)return[void 0,rawRows.length];const groupRows=(rows,[groupByKey,...remainingGroupByKeys],startRowIndex)=>{let groupRowsCount=0;const groups={};for(const[key,childRows]of Object.entries(rowGrouper(rows,groupByKey))){const[childGroups,childRowsCount]=0===remainingGroupByKeys.length?[childRows,childRows.length]:groupRows(childRows,remainingGroupByKeys,startRowIndex+groupRowsCount+1);groups[key]={childRows,childGroups,startRowIndex:startRowIndex+groupRowsCount},groupRowsCount+=childRowsCount+1}return[groups,groupRowsCount]};return groupRows(rawRows,groupBy,0)}),[groupBy,rowGrouper,rawRows]),[rows,isGroupRow]=(0,react.useMemo)((()=>{const allGroupRows=new Set;if(!groupedRows)return[rawRows,isGroupRow];const flattenedRows=[],expandGroup=(rows,parentId,level)=>{!function isReadonlyArray(arr){return Array.isArray(arr)}(rows)?Object.keys(rows).forEach(((groupKey,posInSet,keys)=>{var _expandedGroupIds$has;const id=void 0!==parentId?`${parentId}__${groupKey}`:groupKey,isExpanded=null!=(_expandedGroupIds$has=null==expandedGroupIds?void 0:expandedGroupIds.has(id))&&_expandedGroupIds$has,{childRows,childGroups,startRowIndex}=rows[groupKey],groupRow={id,parentId,groupKey,isExpanded,childRows,level,posInSet,startRowIndex,setSize:keys.length};flattenedRows.push(groupRow),allGroupRows.add(groupRow),isExpanded&&expandGroup(childGroups,id,level+1)})):flattenedRows.push(...rows)};return expandGroup(groupedRows,void 0,0),[flattenedRows,isGroupRow];function isGroupRow(row){return allGroupRows.has(row)}}),[expandedGroupIds,groupedRows,rawRows]),{totalRowHeight,getRowTop,getRowHeight,findRowIdx}=(0,react.useMemo)((()=>{if("number"==typeof rowHeight)return{totalRowHeight:rowHeight*rows.length,getRowTop:rowIdx=>rowIdx*rowHeight,getRowHeight:()=>rowHeight,findRowIdx:offset=>floor(offset/rowHeight)};let totalRowHeight=0;const rowPositions=rows.map((row=>{const currentRowHeight=isGroupRow(row)?rowHeight({type:"GROUP",row}):rowHeight({type:"ROW",row}),position={top:totalRowHeight,height:currentRowHeight};return totalRowHeight+=currentRowHeight,position})),validateRowIdx=rowIdx=>max(0,min(rows.length-1,rowIdx));return{totalRowHeight,getRowTop:rowIdx=>rowPositions[validateRowIdx(rowIdx)].top,getRowHeight:rowIdx=>rowPositions[validateRowIdx(rowIdx)].height,findRowIdx(offset){let start=0,end=rowPositions.length-1;for(;start<=end;){const middle=start+floor((end-start)/2),currentOffset=rowPositions[middle].top;if(currentOffset===offset)return middle;if(currentOffset<offset?start=middle+1:currentOffset>offset&&(end=middle-1),start>end)return end}return 0}}}),[isGroupRow,rowHeight,rows]);if(!enableVirtualization)return{rowOverscanStartIdx:0,rowOverscanEndIdx:rows.length-1,rows,rowsCount,totalRowHeight,isGroupRow,getRowTop,getRowHeight,findRowIdx};const rowVisibleStartIdx=findRowIdx(scrollTop),rowVisibleEndIdx=findRowIdx(scrollTop+clientHeight);return{rowOverscanStartIdx:max(0,rowVisibleStartIdx-4),rowOverscanEndIdx:min(rows.length-1,rowVisibleEndIdx+4),rows,rowsCount,totalRowHeight,isGroupRow,getRowTop,getRowHeight,findRowIdx}}function getColSpan(column,lastFrozenColumnIndex,args){const colSpan="function"==typeof column.colSpan?column.colSpan(args):1;if(Number.isInteger(colSpan)&&colSpan>1&&(!column.frozen||column.idx+colSpan-1<=lastFrozenColumnIndex))return colSpan}function useLatestFunc(fn){const ref=(0,react.useRef)(fn);return(0,react.useEffect)((()=>{ref.current=fn})),(0,react.useCallback)(((...args)=>{ref.current(...args)}),[])}function SortableHeaderCell({onSort,sortDirection,priority,children,isCellSelected}){const{ref,tabIndex}=useFocusRef(isCellSelected);return(0,jsx_runtime.jsxs)("span",{ref,tabIndex,className:"rdg-header-sort-cell h1j9yp5q",onClick:function handleClick(event){onSort(event.ctrlKey||event.metaKey)},onKeyDown:function handleKeyDown(event){" "!==event.key&&"Enter"!==event.key||(event.preventDefault(),onSort(event.ctrlKey||event.metaKey))},children:[(0,jsx_runtime.jsx)("span",{className:"rdg-header-sort-name h1e6at1o",children}),(0,jsx_runtime.jsxs)("span",{children:[void 0!==sortDirection&&(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:"rdg-sort-arrow a1t8izji","aria-hidden":!0,children:(0,jsx_runtime.jsx)("path",{d:"ASC"===sortDirection?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})}),priority]})]})}__webpack_require__(94240);try{SortableHeaderCell.displayName="SortableHeaderCell",SortableHeaderCell.__docgenInfo={description:"",displayName:"SortableHeaderCell",props:{isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},sortDirection:{defaultValue:null,description:"",name:"sortDirection",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"ASC"'},{value:'"DESC"'}]}},onSort:{defaultValue:null,description:"",name:"onSort",required:!0,type:{name:"(ctrlClick: boolean) => void"}},priority:{defaultValue:null,description:"",name:"priority",required:!0,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/headerCells/SortableHeaderCell.tsx#SortableHeaderCell"]={docgenInfo:SortableHeaderCell.__docgenInfo,name:"SortableHeaderCell",path:"src/headerCells/SortableHeaderCell.tsx#SortableHeaderCell"})}catch(__react_docgen_typescript_loader_error){}function useRovingCellRef(isSelected){const ref=(0,react.useRef)(null),isChildFocused=(0,react.useRef)(!1),[,forceRender]=(0,react.useState)({});useLayoutEffect((()=>{var _ref$current;isSelected?isChildFocused.current?forceRender({}):null==(_ref$current=ref.current)||_ref$current.focus():isChildFocused.current=!1}),[isSelected]);const isFocused=isSelected&&!isChildFocused.current;return{ref,tabIndex:isFocused?0:-1,onFocus:function onFocus(event){event.target!==ref.current&&(isChildFocused.current=!0)}}}function HeaderCell({column,colSpan,isCellSelected,onColumnResize,allRowsSelected,onAllRowsSelectionChange,sortColumns,onSortColumnsChange,selectCell,shouldFocusGrid}){const{ref,tabIndex,onFocus}=useRovingCellRef(isCellSelected),sortIndex=null==sortColumns?void 0:sortColumns.findIndex((sort=>sort.columnKey===column.key)),sortColumn=void 0!==sortIndex&&sortIndex>-1?sortColumns[sortIndex]:void 0,sortDirection=null==sortColumn?void 0:sortColumn.direction,priority=void 0!==sortColumn&&sortColumns.length>1?sortIndex+1:void 0,ariaSort=sortDirection&&!priority?"ASC"===sortDirection?"ascending":"descending":void 0,className=getCellClassname(column,column.headerCellClass,column.resizable&&"rdg-cell-resizable c6l2wv1");function onSort(ctrlClick){if(null==onSortColumnsChange)return;const{sortDescendingFirst}=column;if(void 0===sortColumn){const nextSort={columnKey:column.key,direction:sortDescendingFirst?"DESC":"ASC"};onSortColumnsChange(sortColumns&&ctrlClick?[...sortColumns,nextSort]:[nextSort])}else{let nextSortColumn;if((sortDescendingFirst&&"DESC"===sortDirection||!sortDescendingFirst&&"ASC"===sortDirection)&&(nextSortColumn={columnKey:column.key,direction:"ASC"===sortDirection?"DESC":"ASC"}),ctrlClick){const nextSortColumns=[...sortColumns];nextSortColumn?nextSortColumns[sortIndex]=nextSortColumn:nextSortColumns.splice(sortIndex,1),onSortColumnsChange(nextSortColumns)}else onSortColumnsChange(nextSortColumn?[nextSortColumn]:[])}}return(0,jsx_runtime.jsx)("div",{role:"columnheader","aria-colindex":column.idx+1,"aria-selected":isCellSelected,"aria-sort":ariaSort,"aria-colspan":colSpan,ref,tabIndex:shouldFocusGrid?0:tabIndex,className,style:getCellStyle(column,colSpan),onFocus:function handleFocus(event){onFocus(event),shouldFocusGrid&&selectCell(0)},onClick:function onClick(){selectCell(column.idx)},onPointerDown:column.resizable?function onPointerDown(event){if("mouse"===event.pointerType&&1!==event.buttons)return;const{currentTarget,pointerId}=event,{right}=currentTarget.getBoundingClientRect(),offset=right-event.clientX;function onPointerMove(event){const width=event.clientX+offset-currentTarget.getBoundingClientRect().left;width>0&&onColumnResize(column,width)}offset>11||(currentTarget.setPointerCapture(pointerId),currentTarget.addEventListener("pointermove",onPointerMove),currentTarget.addEventListener("lostpointercapture",(function onLostPointerCapture(){currentTarget.removeEventListener("pointermove",onPointerMove),currentTarget.removeEventListener("lostpointercapture",onLostPointerCapture)})))}:void 0,children:function getCell(){return column.headerRenderer?(0,jsx_runtime.jsx)(column.headerRenderer,{column,sortDirection,priority,onSort,allRowsSelected,onAllRowsSelectionChange,isCellSelected}):column.sortable?(0,jsx_runtime.jsx)(SortableHeaderCell,{onSort,sortDirection,priority,isCellSelected,children:column.name}):column.name}()})}__webpack_require__(14866);try{HeaderCell.displayName="HeaderCell",HeaderCell.__docgenInfo={description:"",displayName:"HeaderCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number | undefined"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},sortColumns:{defaultValue:null,description:"Used for multi column sorting",name:"sortColumns",required:!1,type:{name:"Maybe<readonly SortColumn[]>"}},onSortColumnsChange:{defaultValue:null,description:"",name:"onSortColumnsChange",required:!1,type:{name:"Maybe<(sortColumns: SortColumn[]) => void>"}},onColumnResize:{defaultValue:null,description:"",name:"onColumnResize",required:!0,type:{name:"(column: CalculatedColumn<R, SR>, width: number) => void"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(columnIdx: number) => void"}},allRowsSelected:{defaultValue:null,description:"",name:"allRowsSelected",required:!0,type:{name:"boolean"}},onAllRowsSelectionChange:{defaultValue:null,description:"",name:"onAllRowsSelectionChange",required:!0,type:{name:"(checked: boolean) => void"}},shouldFocusGrid:{defaultValue:null,description:"",name:"shouldFocusGrid",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/HeaderCell.tsx#HeaderCell"]={docgenInfo:HeaderCell.__docgenInfo,name:"HeaderCell",path:"src/HeaderCell.tsx#HeaderCell"})}catch(__react_docgen_typescript_loader_error){}function useRovingRowRef(selectedCellIdx){const isSelected=-1===selectedCellIdx,{ref,tabIndex}=useFocusRef(isSelected);return{ref,tabIndex,className:isSelected?"rdg-row-selected r1v67ork":void 0}}__webpack_require__(40167);function HeaderRow({columns,allRowsSelected,onAllRowsSelectionChange,onColumnResize,sortColumns,onSortColumnsChange,lastFrozenColumnIndex,selectedCellIdx,selectCell,shouldFocusGrid}){const{ref,tabIndex,className}=useRovingRowRef(selectedCellIdx),cells=[];for(let index=0;index<columns.length;index++){const column=columns[index],colSpan=getColSpan(column,lastFrozenColumnIndex,{type:"HEADER"});void 0!==colSpan&&(index+=colSpan-1),cells.push((0,jsx_runtime.jsx)(HeaderCell,{column,colSpan,isCellSelected:selectedCellIdx===column.idx,onColumnResize,allRowsSelected,onAllRowsSelectionChange,onSortColumnsChange,sortColumns,selectCell,shouldFocusGrid:shouldFocusGrid&&0===index},column.key))}return(0,jsx_runtime.jsx)("div",{role:"row","aria-rowindex":1,ref,tabIndex,className:(0,clsx_m.Z)("rdg-header-row h10tskcx",className),children:cells})}const src_HeaderRow=(0,react.memo)(HeaderRow);__webpack_require__(27010);try{HeaderRow.displayName="HeaderRow",HeaderRow.__docgenInfo={description:"",displayName:"HeaderRow",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},allRowsSelected:{defaultValue:null,description:"",name:"allRowsSelected",required:!0,type:{name:"boolean"}},onAllRowsSelectionChange:{defaultValue:null,description:"",name:"onAllRowsSelectionChange",required:!0,type:{name:"(checked: boolean) => void"}},onColumnResize:{defaultValue:null,description:"",name:"onColumnResize",required:!0,type:{name:"(column: CalculatedColumn<R, SR>, width: number) => void"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(columnIdx: number) => void"}},lastFrozenColumnIndex:{defaultValue:null,description:"",name:"lastFrozenColumnIndex",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},shouldFocusGrid:{defaultValue:null,description:"",name:"shouldFocusGrid",required:!0,type:{name:"boolean"}},sortColumns:{defaultValue:null,description:"Used for multi column sorting",name:"sortColumns",required:!1,type:{name:"Maybe<readonly SortColumn[]>"}},onSortColumnsChange:{defaultValue:null,description:"",name:"onSortColumnsChange",required:!1,type:{name:"Maybe<(sortColumns: SortColumn[]) => void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/HeaderRow.tsx#HeaderRow"]={docgenInfo:HeaderRow.__docgenInfo,name:"HeaderRow",path:"src/HeaderRow.tsx#HeaderRow"})}catch(__react_docgen_typescript_loader_error){}function isSelectedCellEditable({selectedPosition,columns,rows,isGroupRow}){const column=columns[selectedPosition.idx],row=rows[selectedPosition.rowIdx];return!isGroupRow(row)&&isCellEditable(column,row)}function isCellEditable(column,row){return null!=column.editor&&!column.rowGroup&&!1!==("function"==typeof column.editable?column.editable(row):column.editable)}function getSelectedCellColSpan({rows,summaryRows,rowIdx,lastFrozenColumnIndex,column,isGroupRow}){if(-1===rowIdx)return getColSpan(column,lastFrozenColumnIndex,{type:"HEADER"});if(rowIdx>=0&&rowIdx<rows.length){const row=rows[rowIdx];return isGroupRow(row)?void 0:getColSpan(column,lastFrozenColumnIndex,{type:"ROW",row})}return summaryRows?getColSpan(column,lastFrozenColumnIndex,{type:"SUMMARY",row:summaryRows[rowIdx-rows.length]}):void 0}function Cell({column,colSpan,isCellSelected,isCopied,isDraggedOver,row,dragHandle,onRowClick,onRowDoubleClick,onRowChange,selectCell,...props}){const{ref,tabIndex,onFocus}=useRovingCellRef(isCellSelected),{cellClass}=column,className=getCellClassname(column,"function"==typeof cellClass?cellClass(row):cellClass,isCopied&&"rdg-cell-copied c6ra8a3",isDraggedOver&&"rdg-cell-dragged-over cq910m0");function selectCellWrapper(openEditor){selectCell(row,column,openEditor)}return(0,jsx_runtime.jsx)("div",{role:"gridcell","aria-colindex":column.idx+1,"aria-selected":isCellSelected,"aria-colspan":colSpan,"aria-readonly":!isCellEditable(column,row)||void 0,ref,tabIndex,className,style:getCellStyle(column,colSpan),onClick:function handleClick(){var _column$editorOptions;selectCellWrapper(null==(_column$editorOptions=column.editorOptions)?void 0:_column$editorOptions.editOnClick),null==onRowClick||onRowClick(row,column)},onDoubleClick:function handleDoubleClick(){selectCellWrapper(!0),null==onRowDoubleClick||onRowDoubleClick(row,column)},onContextMenu:function handleContextMenu(){selectCellWrapper()},onFocus,...props,children:!column.rowGroup&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(column.formatter,{column,row,isCellSelected,onRowChange}),dragHandle]})})}const src_Cell=(0,react.memo)(Cell);__webpack_require__(9020);try{Cell.displayName="Cell",Cell.__docgenInfo={description:"",displayName:"Cell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number | undefined"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},isCopied:{defaultValue:null,description:"",name:"isCopied",required:!0,type:{name:"boolean"}},isDraggedOver:{defaultValue:null,description:"",name:"isDraggedOver",required:!0,type:{name:"boolean"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},dragHandle:{defaultValue:null,description:"",name:"dragHandle",required:!0,type:{name:"ReactElement<HTMLAttributes<HTMLDivElement>, string | JSXElementConstructor<any>> | undefined"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(newRow: R) => void"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onRowDoubleClick:{defaultValue:null,description:"",name:"onRowDoubleClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: R, column: CalculatedColumn<R, SR>, enableEditor?: Maybe<boolean>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Cell.tsx#Cell"]={docgenInfo:Cell.__docgenInfo,name:"Cell",path:"src/Cell.tsx#Cell"})}catch(__react_docgen_typescript_loader_error){}function useCombinedRefs(...refs){return(0,react.useCallback)((handle=>{for(const ref of refs)"function"==typeof ref?ref(handle):null!==ref&&"current"in ref&&(ref.current=handle)}),refs)}function Row({className,rowIdx,selectedCellIdx,isRowSelected,copiedCellIdx,draggedOverCellIdx,lastFrozenColumnIndex,row,viewportColumns,selectedCellEditor,selectedCellDragHandle,onRowClick,onRowDoubleClick,rowClass,setDraggedOverRowIdx,onMouseEnter,top,height,onRowChange,selectCell,...props},ref){const{ref:rowRef,tabIndex,className:rovingClassName}=useRovingRowRef(selectedCellIdx),handleRowChange=useLatestFunc((newRow=>{onRowChange(rowIdx,newRow)}));className=(0,clsx_m.Z)("rdg-row r1upfr80","rdg-row-"+(rowIdx%2==0?"even":"odd"),rovingClassName,null==rowClass?void 0:rowClass(row),className);const cells=[];for(let index=0;index<viewportColumns.length;index++){const column=viewportColumns[index],{idx}=column,colSpan=getColSpan(column,lastFrozenColumnIndex,{type:"ROW",row});void 0!==colSpan&&(index+=colSpan-1);const isCellSelected=selectedCellIdx===idx;isCellSelected&&selectedCellEditor?cells.push(selectedCellEditor):cells.push((0,jsx_runtime.jsx)(src_Cell,{column,colSpan,row,isCopied:copiedCellIdx===idx,isDraggedOver:draggedOverCellIdx===idx,isCellSelected,dragHandle:isCellSelected?selectedCellDragHandle:void 0,onRowClick,onRowDoubleClick,onRowChange:handleRowChange,selectCell},column.key))}return(0,jsx_runtime.jsx)(RowSelectionProvider,{value:isRowSelected,children:(0,jsx_runtime.jsx)("div",{role:"row",ref:useCombinedRefs(ref,rowRef),tabIndex,className,onMouseEnter:function handleDragEnter(event){null==setDraggedOverRowIdx||setDraggedOverRowIdx(rowIdx),null==onMouseEnter||onMouseEnter(event)},style:{top,"--row-height":`${height}px`},...props,children:cells})})}__webpack_require__(22536);const src_Row=(0,react.memo)(Row),RowWithRef=(0,react.memo)((0,react.forwardRef)(Row));try{Row.displayName="Row",Row.__docgenInfo={description:"",displayName:"Row",props:{viewportColumns:{defaultValue:null,description:"",name:"viewportColumns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},rowIdx:{defaultValue:null,description:"",name:"rowIdx",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},copiedCellIdx:{defaultValue:null,description:"",name:"copiedCellIdx",required:!0,type:{name:"number | undefined"}},draggedOverCellIdx:{defaultValue:null,description:"",name:"draggedOverCellIdx",required:!0,type:{name:"number | undefined"}},lastFrozenColumnIndex:{defaultValue:null,description:"",name:"lastFrozenColumnIndex",required:!0,type:{name:"number"}},isRowSelected:{defaultValue:null,description:"",name:"isRowSelected",required:!0,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},selectedCellEditor:{defaultValue:null,description:"",name:"selectedCellEditor",required:!0,type:{name:"ReactElement<EditorProps<R, unknown>, string | JSXElementConstructor<any>> | undefined"}},selectedCellDragHandle:{defaultValue:null,description:"",name:"selectedCellDragHandle",required:!0,type:{name:"ReactElement<HTMLAttributes<HTMLDivElement>, string | JSXElementConstructor<any>> | undefined"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(rowIdx: number, newRow: R) => void"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onRowDoubleClick:{defaultValue:null,description:"",name:"onRowDoubleClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},rowClass:{defaultValue:null,description:"",name:"rowClass",required:!0,type:{name:"Maybe<(row: R) => Maybe<string>>"}},setDraggedOverRowIdx:{defaultValue:null,description:"",name:"setDraggedOverRowIdx",required:!0,type:{name:"((overRowIdx: number) => void) | undefined"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: R, column: CalculatedColumn<R, SR>, enableEditor?: Maybe<boolean>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Row.tsx#Row"]={docgenInfo:Row.__docgenInfo,name:"Row",path:"src/Row.tsx#Row"})}catch(__react_docgen_typescript_loader_error){}try{RowWithRef.displayName="RowWithRef",RowWithRef.__docgenInfo={description:"",displayName:"RowWithRef",props:{viewportColumns:{defaultValue:null,description:"",name:"viewportColumns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},rowIdx:{defaultValue:null,description:"",name:"rowIdx",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},copiedCellIdx:{defaultValue:null,description:"",name:"copiedCellIdx",required:!0,type:{name:"number | undefined"}},draggedOverCellIdx:{defaultValue:null,description:"",name:"draggedOverCellIdx",required:!0,type:{name:"number | undefined"}},lastFrozenColumnIndex:{defaultValue:null,description:"",name:"lastFrozenColumnIndex",required:!0,type:{name:"number"}},isRowSelected:{defaultValue:null,description:"",name:"isRowSelected",required:!0,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},selectedCellEditor:{defaultValue:null,description:"",name:"selectedCellEditor",required:!0,type:{name:"ReactElement<EditorProps<R, unknown>, string | JSXElementConstructor<any>> | undefined"}},selectedCellDragHandle:{defaultValue:null,description:"",name:"selectedCellDragHandle",required:!0,type:{name:"ReactElement<HTMLAttributes<HTMLDivElement>, string | JSXElementConstructor<any>> | undefined"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(rowIdx: number, newRow: R) => void"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onRowDoubleClick:{defaultValue:null,description:"",name:"onRowDoubleClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},rowClass:{defaultValue:null,description:"",name:"rowClass",required:!0,type:{name:"Maybe<(row: R) => Maybe<string>>"}},setDraggedOverRowIdx:{defaultValue:null,description:"",name:"setDraggedOverRowIdx",required:!0,type:{name:"((overRowIdx: number) => void) | undefined"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: R, column: CalculatedColumn<R, SR>, enableEditor?: Maybe<boolean>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Row.tsx#RowWithRef"]={docgenInfo:RowWithRef.__docgenInfo,name:"RowWithRef",path:"src/Row.tsx#RowWithRef"})}catch(__react_docgen_typescript_loader_error){}function GroupCell({id,groupKey,childRows,isExpanded,isCellSelected,column,row,groupColumnIndex,toggleGroup:toggleGroupWrapper}){const{ref,tabIndex,onFocus}=useRovingCellRef(isCellSelected);function toggleGroup(){toggleGroupWrapper(id)}const isLevelMatching=column.rowGroup&&groupColumnIndex===column.idx;return(0,jsx_runtime.jsx)("div",{role:"gridcell","aria-colindex":column.idx+1,"aria-selected":isCellSelected,ref,tabIndex,className:getCellClassname(column),style:{...getCellStyle(column),cursor:isLevelMatching?"pointer":"default"},onClick:isLevelMatching?toggleGroup:void 0,onFocus,children:(!column.rowGroup||groupColumnIndex===column.idx)&&column.groupFormatter&&(0,jsx_runtime.jsx)(column.groupFormatter,{groupKey,childRows,column,row,isExpanded,isCellSelected,toggleGroup})},column.key)}const src_GroupCell=(0,react.memo)(GroupCell);try{GroupCell.displayName="GroupCell",GroupCell.__docgenInfo={description:"",displayName:"GroupCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"GroupRow<R>"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},groupColumnIndex:{defaultValue:null,description:"",name:"groupColumnIndex",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},groupKey:{defaultValue:null,description:"",name:"groupKey",required:!0,type:{name:"unknown"}},childRows:{defaultValue:null,description:"",name:"childRows",required:!0,type:{name:"readonly R[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},toggleGroup:{defaultValue:null,description:"",name:"toggleGroup",required:!0,type:{name:"(expandedGroupId: unknown) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GroupCell.tsx#GroupCell"]={docgenInfo:GroupCell.__docgenInfo,name:"GroupCell",path:"src/GroupCell.tsx#GroupCell"})}catch(__react_docgen_typescript_loader_error){}function GroupedRow({id,groupKey,viewportColumns,childRows,rowIdx,row,top,height,level,isExpanded,selectedCellIdx,isRowSelected,selectGroup,toggleGroup,...props}){const{ref,tabIndex,className}=useRovingRowRef(selectedCellIdx),idx="select-row"===viewportColumns[0].key?level+1:level;return(0,jsx_runtime.jsx)(RowSelectionProvider,{value:isRowSelected,children:(0,jsx_runtime.jsx)("div",{role:"row","aria-level":level,"aria-expanded":isExpanded,ref,tabIndex,className:(0,clsx_m.Z)("rdg-row r1upfr80","rdg-group-row g1yxluv3","rdg-row-"+(rowIdx%2==0?"even":"odd"),className),onClick:function handleSelectGroup(){selectGroup(rowIdx)},style:{top,"--row-height":`${height}px`},...props,children:viewportColumns.map((column=>(0,jsx_runtime.jsx)(src_GroupCell,{id,groupKey,childRows,isExpanded,isCellSelected:selectedCellIdx===column.idx,column,row,groupColumnIndex:idx,toggleGroup},column.key)))})})}const src_GroupRow=(0,react.memo)(GroupedRow);__webpack_require__(47759);try{GroupRow.displayName="GroupRow",GroupRow.__docgenInfo={description:"",displayName:"GroupRow",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},groupKey:{defaultValue:null,description:"",name:"groupKey",required:!0,type:{name:"unknown"}},viewportColumns:{defaultValue:null,description:"",name:"viewportColumns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},childRows:{defaultValue:null,description:"",name:"childRows",required:!0,type:{name:"readonly R[]"}},rowIdx:{defaultValue:null,description:"",name:"rowIdx",required:!0,type:{name:"number"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"GroupRow<R>"}},top:{defaultValue:null,description:"",name:"top",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},isRowSelected:{defaultValue:null,description:"",name:"isRowSelected",required:!0,type:{name:"boolean"}},selectGroup:{defaultValue:null,description:"",name:"selectGroup",required:!0,type:{name:"(rowIdx: number) => void"}},toggleGroup:{defaultValue:null,description:"",name:"toggleGroup",required:!0,type:{name:"(expandedGroupId: unknown) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/GroupRow.tsx#GroupRow"]={docgenInfo:GroupRow.__docgenInfo,name:"GroupRow",path:"src/GroupRow.tsx#GroupRow"})}catch(__react_docgen_typescript_loader_error){}function SummaryCell({column,colSpan,row,isCellSelected,selectCell}){const{ref,tabIndex,onFocus}=useRovingCellRef(isCellSelected),{summaryFormatter:SummaryFormatter,summaryCellClass}=column,className=getCellClassname(column,"function"==typeof summaryCellClass?summaryCellClass(row):summaryCellClass);return(0,jsx_runtime.jsx)("div",{role:"gridcell","aria-colindex":column.idx+1,"aria-colspan":colSpan,"aria-selected":isCellSelected,ref,tabIndex,className,style:getCellStyle(column,colSpan),onClick:function onClick(){selectCell(row,column)},onFocus,children:SummaryFormatter&&(0,jsx_runtime.jsx)(SummaryFormatter,{column,row,isCellSelected})})}const src_SummaryCell=(0,react.memo)(SummaryCell);try{SummaryCell.displayName="SummaryCell",SummaryCell.__docgenInfo={description:"",displayName:"SummaryCell",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"SR"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: SR, column: CalculatedColumn<R, SR>) => void"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SummaryCell.tsx#SummaryCell"]={docgenInfo:SummaryCell.__docgenInfo,name:"SummaryCell",path:"src/SummaryCell.tsx#SummaryCell"})}catch(__react_docgen_typescript_loader_error){}function SummaryRow({rowIdx,row,viewportColumns,bottom,lastFrozenColumnIndex,selectedCellIdx,selectCell,"aria-rowindex":ariaRowIndex}){const{ref,tabIndex,className}=useRovingRowRef(selectedCellIdx),cells=[];for(let index=0;index<viewportColumns.length;index++){const column=viewportColumns[index],colSpan=getColSpan(column,lastFrozenColumnIndex,{type:"SUMMARY",row});void 0!==colSpan&&(index+=colSpan-1);const isCellSelected=selectedCellIdx===column.idx;cells.push((0,jsx_runtime.jsx)(src_SummaryCell,{column,colSpan,row,isCellSelected,selectCell},column.key))}return(0,jsx_runtime.jsx)("div",{role:"row","aria-rowindex":ariaRowIndex,ref,tabIndex,className:(0,clsx_m.Z)("rdg-row r1upfr80","rdg-row-"+(rowIdx%2==0?"even":"odd"),"rdg-summary-row skuhp55",className,0===rowIdx&&"sf8l5ub"),style:{bottom},children:cells})}const src_SummaryRow=(0,react.memo)(SummaryRow);__webpack_require__(57319);try{SummaryRow.displayName="SummaryRow",SummaryRow.__docgenInfo={description:"",displayName:"SummaryRow",props:{"aria-rowindex":{defaultValue:null,description:"",name:"aria-rowindex",required:!0,type:{name:"number"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"SR"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!0,type:{name:"number"}},lastFrozenColumnIndex:{defaultValue:null,description:"",name:"lastFrozenColumnIndex",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: SR, column: CalculatedColumn<R, SR>) => void"}},viewportColumns:{defaultValue:null,description:"",name:"viewportColumns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},rowIdx:{defaultValue:null,description:"",name:"rowIdx",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SummaryRow.tsx#SummaryRow"]={docgenInfo:SummaryRow.__docgenInfo,name:"SummaryRow",path:"src/SummaryRow.tsx#SummaryRow"})}catch(__react_docgen_typescript_loader_error){}var react_dom=__webpack_require__(73935);function EditCell({column,colSpan,row,onRowChange,onClose,onKeyDown,editorPortalTarget}){var _column$editorOptions,_column$editorOptions3;const frameRequestRef=(0,react.useRef)(),commitOnOutsideMouseDown=useLatestFunc((()=>{onRowChange(row,!0)}));function cancelFrameRequest(){cancelAnimationFrame(frameRequestRef.current)}(0,react.useEffect)((()=>{function onWindowCaptureMouseDown(){frameRequestRef.current=requestAnimationFrame(commitOnOutsideMouseDown)}return addEventListener("mousedown",onWindowCaptureMouseDown,{capture:!0}),()=>{removeEventListener("mousedown",onWindowCaptureMouseDown,{capture:!0}),cancelFrameRequest()}}),[commitOnOutsideMouseDown]);const{cellClass}=column,className=getCellClassname(column,"rdg-editor-container","function"==typeof cellClass?cellClass(row):cellClass,!(null!=(_column$editorOptions=column.editorOptions)&&_column$editorOptions.createPortal)&&"cis5rrm");let content;var _column$editorOptions2;null!=column.editor&&(content=(0,jsx_runtime.jsx)(column.editor,{column,row,onRowChange,onClose,editorPortalTarget}),null!=(_column$editorOptions2=column.editorOptions)&&_column$editorOptions2.createPortal&&(content=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,react_dom.createPortal)(content,editorPortalTarget),(0,jsx_runtime.jsx)(column.formatter,{column,row,isCellSelected:!0,onRowChange})]})));return(0,jsx_runtime.jsx)("div",{role:"gridcell","aria-colindex":column.idx+1,"aria-colspan":colSpan,"aria-selected":!0,className,style:getCellStyle(column,colSpan),onKeyDown:null!=(_column$editorOptions3=column.editorOptions)&&_column$editorOptions3.createPortal?function handleKeyDown(event){onKeyDown(event,!0)}:void 0,onMouseDownCapture:cancelFrameRequest,children:content})}__webpack_require__(93246);try{EditCell.displayName="EditCell",EditCell.__docgenInfo={description:"",displayName:"EditCell",props:{onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<HTMLDivElement>, isEditorPortalEvent: boolean) => void"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, SR>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},editorPortalTarget:{defaultValue:null,description:"",name:"editorPortalTarget",required:!0,type:{name:"Element"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(row: R, commitChanges?: boolean | undefined) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(commitChanges?: boolean | undefined) => void"}},colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/EditCell.tsx#EditCell"]={docgenInfo:EditCell.__docgenInfo,name:"EditCell",path:"src/EditCell.tsx#EditCell"})}catch(__react_docgen_typescript_loader_error){}function DragHandle({rows,columns,selectedPosition,latestDraggedOverRowIdx,isCellEditable,onRowsChange,onFill,setDragging,setDraggedOverRowIdx}){function updateRows(startRowIdx,endRowIdx){const{idx,rowIdx}=selectedPosition,column=columns[idx],sourceRow=rows[rowIdx],updatedRows=[...rows],indexes=[];for(let i=startRowIdx;i<endRowIdx;i++)if(isCellEditable({rowIdx:i,idx})){const updatedRow=onFill({columnKey:column.key,sourceRow,targetRow:rows[i]});updatedRow!==rows[i]&&(updatedRows[i]=updatedRow,indexes.push(i))}indexes.length>0&&(null==onRowsChange||onRowsChange(updatedRows,{indexes,column}))}return(0,jsx_runtime.jsx)("div",{className:"rdg-cell-drag-handle c1w9bbhr",onMouseDown:function handleMouseDown(event){function onMouseOver(event){1!==event.buttons&&onMouseUp()}function onMouseUp(){window.removeEventListener("mouseover",onMouseOver),window.removeEventListener("mouseup",onMouseUp),setDragging(!1),function handleDragEnd(){const overRowIdx=latestDraggedOverRowIdx.current;if(void 0===overRowIdx)return;const{rowIdx}=selectedPosition;updateRows(rowIdx<overRowIdx?rowIdx+1:overRowIdx,rowIdx<overRowIdx?overRowIdx+1:rowIdx),setDraggedOverRowIdx(void 0)}()}1===event.buttons&&(setDragging(!0),window.addEventListener("mouseover",onMouseOver),window.addEventListener("mouseup",onMouseUp))},onDoubleClick:function handleDoubleClick(event){event.stopPropagation(),updateRows(selectedPosition.rowIdx+1,rows.length)}})}__webpack_require__(68822);try{DragHandle.displayName="DragHandle",DragHandle.__docgenInfo={description:"",displayName:"DragHandle",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},selectedPosition:{defaultValue:null,description:"",name:"selectedPosition",required:!0,type:{name:"SelectCellState"}},latestDraggedOverRowIdx:{defaultValue:null,description:"",name:"latestDraggedOverRowIdx",required:!0,type:{name:"MutableRefObject<number | undefined>"}},isCellEditable:{defaultValue:null,description:"",name:"isCellEditable",required:!0,type:{name:"(position: Position) => boolean"}},onFill:{defaultValue:null,description:"",name:"onFill",required:!0,type:{name:"(event: FillEvent<R>) => R"}},setDragging:{defaultValue:null,description:"",name:"setDragging",required:!0,type:{name:"(isDragging: boolean) => void"}},setDraggedOverRowIdx:{defaultValue:null,description:"",name:"setDraggedOverRowIdx",required:!0,type:{name:"(overRowIdx: number | undefined) => void"}},rows:{defaultValue:null,description:"A function called for each rendered row that should return a plain key/value pair object",name:"rows",required:!0,type:{name:"readonly R[]"}},onRowsChange:{defaultValue:null,description:"",name:"onRowsChange",required:!1,type:{name:"Maybe<(rows: R[], data: RowsChangeData<R, SR>) => void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/DragHandle.tsx#DragHandle"]={docgenInfo:DragHandle.__docgenInfo,name:"DragHandle",path:"src/DragHandle.tsx#DragHandle"})}catch(__react_docgen_typescript_loader_error){}const nonInputKeys=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function isCtrlKeyHeldDown(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function onEditorNavigation({key,target}){return"Tab"===key&&(target instanceof HTMLInputElement||target instanceof HTMLTextAreaElement||target instanceof HTMLSelectElement)&&target.matches(".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child")}var _globalThis$document;const body=null==(_globalThis$document=globalThis.document)?void 0:_globalThis$document.body,initialPosition={idx:-1,rowIdx:-2,mode:"SELECT"};function DataGrid({columns:rawColumns,rows:rawRows,summaryRows,rowKeyGetter,onRowsChange,rowHeight,headerRowHeight:rawHeaderRowHeight,summaryRowHeight:rawSummaryRowHeight,selectedRows,onSelectedRowsChange,sortColumns,onSortColumnsChange,defaultColumnOptions,groupBy:rawGroupBy,rowGrouper,expandedGroupIds,onExpandedGroupIdsChange,onRowClick,onRowDoubleClick,onScroll,onColumnResize,onSelectedCellChange,onFill,onPaste,cellNavigationMode:rawCellNavigationMode,enableVirtualization,rowRenderer,noRowsFallback,editorPortalTarget:rawEditorPortalTarget,className,style,rowClass,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,"data-testid":testId},ref){var _summaryRows$length;null!=rowHeight||(rowHeight=35);const headerRowHeight=null!=rawHeaderRowHeight?rawHeaderRowHeight:"number"==typeof rowHeight?rowHeight:35,summaryRowHeight=null!=rawSummaryRowHeight?rawSummaryRowHeight:"number"==typeof rowHeight?rowHeight:35,RowRenderer=null!=rowRenderer?rowRenderer:src_Row,cellNavigationMode=null!=rawCellNavigationMode?rawCellNavigationMode:"NONE";null!=enableVirtualization||(enableVirtualization=!0);const editorPortalTarget=null!=rawEditorPortalTarget?rawEditorPortalTarget:body,[scrollTop,setScrollTop]=(0,react.useState)(0),[scrollLeft,setScrollLeft]=(0,react.useState)(0),[columnWidths,setColumnWidths]=(0,react.useState)((()=>new Map)),[selectedPosition,setSelectedPosition]=(0,react.useState)(initialPosition),[copiedCell,setCopiedCell]=(0,react.useState)(null),[isDragging,setDragging]=(0,react.useState)(!1),[draggedOverRowIdx,setOverRowIdx]=(0,react.useState)(void 0),prevSelectedPosition=(0,react.useRef)(selectedPosition),latestDraggedOverRowIdx=(0,react.useRef)(draggedOverRowIdx),lastSelectedRowIdx=(0,react.useRef)(-1),[gridRef,gridWidth,gridHeight]=function useGridDimensions(){const gridRef=(0,react.useRef)(null),[gridWidth,setGridWidth]=(0,react.useState)(1),[gridHeight,setGridHeight]=(0,react.useState)(1);return useLayoutEffect((()=>{const{ResizeObserver}=window;if(null==ResizeObserver)return;const resizeObserver=new ResizeObserver((()=>{const{clientWidth,clientHeight}=gridRef.current;setGridWidth(clientWidth-(devicePixelRatio%1==0?0:1)),setGridHeight(clientHeight)}));return resizeObserver.observe(gridRef.current),()=>{resizeObserver.disconnect()}}),[]),[gridRef,gridWidth,gridHeight]}(),summaryRowsCount=null!=(_summaryRows$length=null==summaryRows?void 0:summaryRows.length)?_summaryRows$length:0,clientHeight=gridHeight-headerRowHeight-summaryRowsCount*summaryRowHeight,isSelectable=null!=selectedRows&&null!=onSelectedRowsChange,isHeaderRowSelected=-1===selectedPosition.rowIdx,allRowsSelected=(0,react.useMemo)((()=>{const{length}=rawRows;return 0!==length&&null!=selectedRows&&null!=rowKeyGetter&&selectedRows.size>=length&&rawRows.every((row=>selectedRows.has(rowKeyGetter(row))))}),[rawRows,selectedRows,rowKeyGetter]),{columns,colSpanColumns,colOverscanStartIdx,colOverscanEndIdx,layoutCssVars,columnMetrics,totalColumnWidth,lastFrozenColumnIndex,totalFrozenColumnWidth,groupBy}=function useCalculatedColumns({rawColumns,columnWidths,viewportWidth,scrollLeft,defaultColumnOptions,rawGroupBy,enableVirtualization}){var _defaultColumnOptions,_defaultColumnOptions2,_defaultColumnOptions3,_defaultColumnOptions4;const minColumnWidth=null!=(_defaultColumnOptions=null==defaultColumnOptions?void 0:defaultColumnOptions.minWidth)?_defaultColumnOptions:80,defaultFormatter=null!=(_defaultColumnOptions2=null==defaultColumnOptions?void 0:defaultColumnOptions.formatter)?_defaultColumnOptions2:ValueFormatter,defaultSortable=null!=(_defaultColumnOptions3=null==defaultColumnOptions?void 0:defaultColumnOptions.sortable)&&_defaultColumnOptions3,defaultResizable=null!=(_defaultColumnOptions4=null==defaultColumnOptions?void 0:defaultColumnOptions.resizable)&&_defaultColumnOptions4,{columns,colSpanColumns,lastFrozenColumnIndex,groupBy}=(0,react.useMemo)((()=>{const groupBy=[];let lastFrozenColumnIndex=-1;const columns=rawColumns.map((rawColumn=>{var _rawGroupBy$includes,_rawColumn$sortable,_rawColumn$resizable,_rawColumn$formatter;const rowGroup=null!=(_rawGroupBy$includes=null==rawGroupBy?void 0:rawGroupBy.includes(rawColumn.key))&&_rawGroupBy$includes,frozen=rowGroup||rawColumn.frozen||!1,column={...rawColumn,idx:0,frozen,isLastFrozenColumn:!1,rowGroup,sortable:null!=(_rawColumn$sortable=rawColumn.sortable)?_rawColumn$sortable:defaultSortable,resizable:null!=(_rawColumn$resizable=rawColumn.resizable)?_rawColumn$resizable:defaultResizable,formatter:null!=(_rawColumn$formatter=rawColumn.formatter)?_rawColumn$formatter:defaultFormatter};return rowGroup&&(null!=column.groupFormatter||(column.groupFormatter=ToggleGroupFormatter)),frozen&&lastFrozenColumnIndex++,column}));columns.sort((({key:aKey,frozen:frozenA},{key:bKey,frozen:frozenB})=>"select-row"===aKey?-1:"select-row"===bKey?1:null!=rawGroupBy&&rawGroupBy.includes(aKey)?rawGroupBy.includes(bKey)?rawGroupBy.indexOf(aKey)-rawGroupBy.indexOf(bKey):-1:null!=rawGroupBy&&rawGroupBy.includes(bKey)?1:frozenA?frozenB?0:-1:frozenB?1:0));const colSpanColumns=[];return columns.forEach(((column,idx)=>{column.idx=idx,column.rowGroup&&groupBy.push(column.key),null!=column.colSpan&&colSpanColumns.push(column)})),-1!==lastFrozenColumnIndex&&(columns[lastFrozenColumnIndex].isLastFrozenColumn=!0),{columns,colSpanColumns,lastFrozenColumnIndex,groupBy}}),[rawColumns,defaultFormatter,defaultResizable,defaultSortable,rawGroupBy]),{layoutCssVars,totalColumnWidth,totalFrozenColumnWidth,columnMetrics}=(0,react.useMemo)((()=>{const columnMetrics=new Map;let left=0,totalColumnWidth=0,totalFrozenColumnWidth=0,templateColumns="",allocatedWidth=0,unassignedColumnsCount=0;for(const column of columns){let width=getSpecifiedWidth(column,columnWidths,viewportWidth);void 0===width?unassignedColumnsCount++:(width=clampColumnWidth(width,column,minColumnWidth),allocatedWidth+=width,columnMetrics.set(column,{width,left:0}))}const unallocatedColumnWidth=(viewportWidth-allocatedWidth)/unassignedColumnsCount;for(const column of columns){let width;if(columnMetrics.has(column)){const columnMetric=columnMetrics.get(column);columnMetric.left=left,({width}=columnMetric)}else width=clampColumnWidth(unallocatedColumnWidth,column,minColumnWidth),columnMetrics.set(column,{width,left});totalColumnWidth+=width,left+=width,templateColumns+=`${width}px `}if(-1!==lastFrozenColumnIndex){const columnMetric=columnMetrics.get(columns[lastFrozenColumnIndex]);totalFrozenColumnWidth=columnMetric.left+columnMetric.width}const layoutCssVars={"--template-columns":templateColumns};for(let i=0;i<=lastFrozenColumnIndex;i++){const column=columns[i];layoutCssVars[`--frozen-left-${column.idx}`]=`${columnMetrics.get(column).left}px`}return{layoutCssVars,totalColumnWidth,totalFrozenColumnWidth,columnMetrics}}),[columnWidths,columns,viewportWidth,minColumnWidth,lastFrozenColumnIndex]),[colOverscanStartIdx,colOverscanEndIdx]=(0,react.useMemo)((()=>{if(!enableVirtualization)return[0,columns.length-1];const viewportLeft=scrollLeft+totalFrozenColumnWidth,viewportRight=scrollLeft+viewportWidth,lastColIdx=columns.length-1,firstUnfrozenColumnIdx=min(lastFrozenColumnIndex+1,lastColIdx);if(viewportLeft>=viewportRight)return[firstUnfrozenColumnIdx,firstUnfrozenColumnIdx];let colVisibleStartIdx=firstUnfrozenColumnIdx;for(;colVisibleStartIdx<lastColIdx;){const{left,width}=columnMetrics.get(columns[colVisibleStartIdx]);if(left+width>viewportLeft)break;colVisibleStartIdx++}let colVisibleEndIdx=colVisibleStartIdx;for(;colVisibleEndIdx<lastColIdx;){const{left,width}=columnMetrics.get(columns[colVisibleEndIdx]);if(left+width>=viewportRight)break;colVisibleEndIdx++}return[max(firstUnfrozenColumnIdx,colVisibleStartIdx-1),min(lastColIdx,colVisibleEndIdx+1)]}),[columnMetrics,columns,lastFrozenColumnIndex,scrollLeft,totalFrozenColumnWidth,viewportWidth,enableVirtualization]);return{columns,colSpanColumns,colOverscanStartIdx,colOverscanEndIdx,layoutCssVars,columnMetrics,totalColumnWidth,lastFrozenColumnIndex,totalFrozenColumnWidth,groupBy}}({rawColumns,columnWidths,scrollLeft,viewportWidth:gridWidth,defaultColumnOptions,rawGroupBy:rowGrouper?rawGroupBy:void 0,enableVirtualization}),{rowOverscanStartIdx,rowOverscanEndIdx,rows,rowsCount,totalRowHeight,isGroupRow,getRowTop,getRowHeight,findRowIdx}=useViewportRows({rawRows,groupBy,rowGrouper,rowHeight,clientHeight,scrollTop,expandedGroupIds,enableVirtualization}),viewportColumns=function useViewportColumns({columns,colSpanColumns,rows,summaryRows,colOverscanStartIdx,colOverscanEndIdx,lastFrozenColumnIndex,rowOverscanStartIdx,rowOverscanEndIdx,isGroupRow}){const startIdx=(0,react.useMemo)((()=>{if(0===colOverscanStartIdx)return 0;let startIdx=colOverscanStartIdx;const updateStartIdx=(colIdx,colSpan)=>void 0!==colSpan&&colIdx+colSpan>colOverscanStartIdx&&(startIdx=colIdx,!0);for(const column of colSpanColumns){const colIdx=column.idx;if(colIdx>=startIdx)break;if(updateStartIdx(colIdx,getColSpan(column,lastFrozenColumnIndex,{type:"HEADER"})))break;for(let rowIdx=rowOverscanStartIdx;rowIdx<=rowOverscanEndIdx;rowIdx++){const row=rows[rowIdx];if(!isGroupRow(row)&&updateStartIdx(colIdx,getColSpan(column,lastFrozenColumnIndex,{type:"ROW",row})))break}if(null!=summaryRows)for(const row of summaryRows)if(updateStartIdx(colIdx,getColSpan(column,lastFrozenColumnIndex,{type:"SUMMARY",row})))break}return startIdx}),[rowOverscanStartIdx,rowOverscanEndIdx,rows,summaryRows,colOverscanStartIdx,lastFrozenColumnIndex,colSpanColumns,isGroupRow]);return(0,react.useMemo)((()=>{const viewportColumns=[];for(let colIdx=0;colIdx<=colOverscanEndIdx;colIdx++){const column=columns[colIdx];colIdx<startIdx&&!column.frozen||viewportColumns.push(column)}return viewportColumns}),[startIdx,colOverscanEndIdx,columns])}({columns,colSpanColumns,colOverscanStartIdx,colOverscanEndIdx,lastFrozenColumnIndex,rowOverscanStartIdx,rowOverscanEndIdx,rows,summaryRows,isGroupRow}),hasGroups=groupBy.length>0&&"function"==typeof rowGrouper,minColIdx=hasGroups?-1:0,maxColIdx=columns.length-1,maxRowIdx=1+rows.length+summaryRowsCount-2,selectedCellIsWithinSelectionBounds=isCellWithinSelectionBounds(selectedPosition),selectedCellIsWithinViewportBounds=isCellWithinViewportBounds(selectedPosition),selectRowLatest=useLatestFunc(selectRow),selectAllRowsLatest=useLatestFunc((function selectAllRows(checked){if(!onSelectedRowsChange)return;assertIsValidKeyGetter(rowKeyGetter);const newSelectedRows=new Set(selectedRows);for(const row of rawRows){const rowKey=rowKeyGetter(row);checked?newSelectedRows.add(rowKey):newSelectedRows.delete(rowKey)}onSelectedRowsChange(newSelectedRows)})),handleFormatterRowChangeLatest=useLatestFunc(updateRow),selectViewportCellLatest=useLatestFunc(((row,column,enableEditor)=>{selectCell({rowIdx:rows.indexOf(row),idx:column.idx},enableEditor)})),selectGroupLatest=useLatestFunc((rowIdx=>{selectCell({rowIdx,idx:-1})})),selectHeaderCellLatest=useLatestFunc((idx=>{selectCell({rowIdx:-1,idx})})),selectSummaryCellLatest=useLatestFunc(((summaryRow,column)=>{selectCell({rowIdx:summaryRows.indexOf(summaryRow)+1+rows.length-1,idx:column.idx})})),toggleGroupLatest=useLatestFunc(toggleGroup);useLayoutEffect((()=>{selectedCellIsWithinSelectionBounds&&selectedPosition!==prevSelectedPosition.current&&"EDIT"!==selectedPosition.mode&&(prevSelectedPosition.current=selectedPosition,scrollToCell(selectedPosition))})),(0,react.useImperativeHandle)(ref,(()=>({element:gridRef.current,scrollToColumn(idx){scrollToCell({idx})},scrollToRow(rowIdx){const{current}=gridRef;current&&current.scrollTo({top:getRowTop(rowIdx),behavior:"smooth"})},selectCell})));const handleColumnResize=(0,react.useCallback)(((column,width)=>{setColumnWidths((columnWidths=>{const newColumnWidths=new Map(columnWidths);return newColumnWidths.set(column.key,width),newColumnWidths})),null==onColumnResize||onColumnResize(column.idx,width)}),[onColumnResize]),setDraggedOverRowIdx=(0,react.useCallback)((rowIdx=>{setOverRowIdx(rowIdx),latestDraggedOverRowIdx.current=rowIdx}),[]);function selectRow({row,checked,isShiftClick}){if(!onSelectedRowsChange)return;assertIsValidKeyGetter(rowKeyGetter);const newSelectedRows=new Set(selectedRows);if(isGroupRow(row)){for(const childRow of row.childRows){const rowKey=rowKeyGetter(childRow);checked?newSelectedRows.add(rowKey):newSelectedRows.delete(rowKey)}return void onSelectedRowsChange(newSelectedRows)}const rowKey=rowKeyGetter(row);if(checked){newSelectedRows.add(rowKey);const previousRowIdx=lastSelectedRowIdx.current,rowIdx=rows.indexOf(row);if(lastSelectedRowIdx.current=rowIdx,isShiftClick&&-1!==previousRowIdx&&previousRowIdx!==rowIdx){const step=sign(rowIdx-previousRowIdx);for(let i=previousRowIdx+step;i!==rowIdx;i+=step){const row=rows[i];isGroupRow(row)||newSelectedRows.add(rowKeyGetter(row))}}}else newSelectedRows.delete(rowKey),lastSelectedRowIdx.current=-1;onSelectedRowsChange(newSelectedRows)}function toggleGroup(expandedGroupId){if(!onExpandedGroupIdsChange)return;const newExpandedGroupIds=new Set(expandedGroupIds);newExpandedGroupIds.has(expandedGroupId)?newExpandedGroupIds.delete(expandedGroupId):newExpandedGroupIds.add(expandedGroupId),onExpandedGroupIdsChange(newExpandedGroupIds)}function handleKeyDown(event,isEditorPortalEvent=!1){if(!(event.target instanceof Element))return;const isCellEvent=null!==event.target.closest(".rdg-cell"),isRowEvent=hasGroups&&event.target.matches(".rdg-row, .rdg-header-row");if(!isCellEvent&&!isRowEvent&&!isEditorPortalEvent)return;const{key,keyCode}=event,{rowIdx}=selectedPosition;if(selectedCellIsWithinViewportBounds&&null!=onPaste&&isCtrlKeyHeldDown(event)&&!isGroupRow(rows[rowIdx])&&"SELECT"===selectedPosition.mode){const vKey=86;if(keyCode===67)return void function handleCopy(){const{idx,rowIdx}=selectedPosition;setCopiedCell({row:rawRows[getRawRowIdx(rowIdx)],columnKey:columns[idx].key})}();if(keyCode===vKey)return void function handlePaste(){if(!onPaste||!onRowsChange||null===copiedCell||!isCellEditable(selectedPosition))return;const{idx,rowIdx}=selectedPosition,targetRow=rawRows[getRawRowIdx(rowIdx)],updatedTargetRow=onPaste({sourceRow:copiedCell.row,sourceColumnKey:copiedCell.columnKey,targetRow,targetColumnKey:columns[idx].key});updateRow(rowIdx,updatedTargetRow)}()}if(isRowIdxWithinViewportBounds(rowIdx)){const row=rows[rowIdx];if(isGroupRow(row)&&-1===selectedPosition.idx&&("ArrowLeft"===key&&row.isExpanded||"ArrowRight"===key&&!row.isExpanded))return event.preventDefault(),void toggleGroup(row.id)}switch(event.key){case"Escape":return setCopiedCell(null),void closeEditor();case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":!function navigate(event){if("EDIT"===selectedPosition.mode){var _columns$selectedPosi2,_columns$selectedPosi3;if(!(null!=(_columns$selectedPosi2=null==(_columns$selectedPosi3=columns[selectedPosition.idx].editorOptions)?void 0:_columns$selectedPosi3.onNavigation)?_columns$selectedPosi2:onEditorNavigation)(event))return}const{key,shiftKey}=event;let mode=cellNavigationMode;if("Tab"===key){if(function canExitGrid({cellNavigationMode,maxColIdx,minRowIdx,maxRowIdx,selectedPosition:{rowIdx,idx},shiftKey}){if("NONE"===cellNavigationMode||"CHANGE_ROW"===cellNavigationMode){const atLastCellInRow=idx===maxColIdx,atFirstCellInRow=0===idx,atLastRow=rowIdx===maxRowIdx,atFirstRow=rowIdx===minRowIdx;return shiftKey?atFirstCellInRow&&atFirstRow:atLastCellInRow&&atLastRow}return!1}({shiftKey,cellNavigationMode,maxColIdx,minRowIdx:-1,maxRowIdx,selectedPosition}))return void commitEditorChanges();mode="NONE"===cellNavigationMode?"CHANGE_ROW":cellNavigationMode}event.preventDefault();const ctrlKey=isCtrlKeyHeldDown(event),nextPosition=function getNextPosition(key,ctrlKey,shiftKey){const{idx,rowIdx}=selectedPosition,row=rows[rowIdx],isRowSelected=selectedCellIsWithinSelectionBounds&&-1===idx;if("ArrowLeft"===key&&isRowSelected&&isGroupRow(row)&&!row.isExpanded&&0!==row.level){let parentRowIdx=-1;for(let i=selectedPosition.rowIdx-1;i>=0;i--){const parentRow=rows[i];if(isGroupRow(parentRow)&&parentRow.id===row.parentId){parentRowIdx=i;break}}if(-1!==parentRowIdx)return{idx,rowIdx:parentRowIdx}}switch(key){case"ArrowUp":return{idx,rowIdx:rowIdx-1};case"ArrowDown":return{idx,rowIdx:rowIdx+1};case"ArrowLeft":return{idx:idx-1,rowIdx};case"ArrowRight":return{idx:idx+1,rowIdx};case"Tab":return{idx:idx+(shiftKey?-1:1),rowIdx};case"Home":return isRowSelected?{idx,rowIdx:0}:{idx:0,rowIdx:ctrlKey?-1:rowIdx};case"End":return isRowSelected?{idx,rowIdx:rows.length-1}:{idx:maxColIdx,rowIdx:ctrlKey?maxRowIdx:rowIdx};case"PageUp":{if(-1===selectedPosition.rowIdx)return selectedPosition;const nextRowY=getRowTop(rowIdx)+getRowHeight(rowIdx)-clientHeight;return{idx,rowIdx:nextRowY>0?findRowIdx(nextRowY):0}}case"PageDown":{if(selectedPosition.rowIdx>=rows.length)return selectedPosition;const nextRowY=getRowTop(rowIdx)+clientHeight;return{idx,rowIdx:nextRowY<totalRowHeight?findRowIdx(nextRowY):rows.length-1}}default:return selectedPosition}}(key,ctrlKey,shiftKey);if(nextPosition.rowIdx===selectedPosition.rowIdx&&nextPosition.idx===selectedPosition.idx)return;selectCell(function getNextSelectedCellPosition({cellNavigationMode,columns,colSpanColumns,rows,summaryRows,minRowIdx,maxRowIdx,currentPosition:{idx:currentIdx},nextPosition,lastFrozenColumnIndex,isCellWithinBounds,isGroupRow}){let{idx:nextIdx,rowIdx:nextRowIdx}=nextPosition;const setColSpan=moveRight=>{if(nextRowIdx>=0&&nextRowIdx<rows.length){const row=rows[nextRowIdx];if(isGroupRow(row))return}for(const column of colSpanColumns){const colIdx=column.idx;if(colIdx>nextIdx)break;const colSpan=getSelectedCellColSpan({rows,summaryRows,rowIdx:nextRowIdx,lastFrozenColumnIndex,column,isGroupRow});if(colSpan&&nextIdx>colIdx&&nextIdx<colSpan+colIdx){nextIdx=colIdx+(moveRight?colSpan:0);break}}};if(isCellWithinBounds(nextPosition)&&setColSpan(nextIdx-currentIdx>0),"NONE"!==cellNavigationMode){const columnsCount=columns.length,isBeforeFirstColumn=-1===nextIdx;nextIdx===columnsCount?"CHANGE_ROW"===cellNavigationMode?nextRowIdx===maxRowIdx||(nextIdx=0,nextRowIdx+=1):nextIdx=0:isBeforeFirstColumn&&("CHANGE_ROW"===cellNavigationMode?nextRowIdx===minRowIdx||(nextRowIdx-=1,nextIdx=columnsCount-1):nextIdx=columnsCount-1,setColSpan(!1))}return{idx:nextIdx,rowIdx:nextRowIdx}}({columns,colSpanColumns,rows,summaryRows,minRowIdx:-1,maxRowIdx,lastFrozenColumnIndex,cellNavigationMode:mode,currentPosition:selectedPosition,nextPosition,isCellWithinBounds:isCellWithinSelectionBounds,isGroupRow}))}(event);break;default:!function handleCellInput(event){var _column$editorOptions;if(!selectedCellIsWithinViewportBounds)return;const row=rows[selectedPosition.rowIdx];if(isGroupRow(row))return;const{key,shiftKey}=event;if("EDIT"===selectedPosition.mode)return void("Enter"===key&&(commitEditorChanges(),closeEditor()));if(isSelectable&&shiftKey&&" "===key){assertIsValidKeyGetter(rowKeyGetter);const rowKey=rowKeyGetter(row);return selectRow({row,checked:!selectedRows.has(rowKey),isShiftClick:!1}),void event.preventDefault()}const column=columns[selectedPosition.idx];if(null==(_column$editorOptions=column.editorOptions)||null==_column$editorOptions.onCellKeyDown||_column$editorOptions.onCellKeyDown(event),event.isDefaultPrevented())return;isCellEditable(selectedPosition)&&function isDefaultCellInput(event){return!nonInputKeys.has(event.key)}(event)&&setSelectedPosition((({idx,rowIdx})=>({idx,rowIdx,key,mode:"EDIT",row,originalRow:row})))}(event)}}function getRawRowIdx(rowIdx){return hasGroups?rawRows.indexOf(rows[rowIdx]):rowIdx}function updateRow(rowIdx,row){if("function"!=typeof onRowsChange)return;const rawRowIdx=getRawRowIdx(rowIdx);if(row===rawRows[rawRowIdx])return;const updatedRows=[...rawRows];updatedRows[rawRowIdx]=row,onRowsChange(updatedRows,{indexes:[rawRowIdx],column:columns[selectedPosition.idx]})}function commitEditorChanges(){var _columns$selectedPosi;null!=(null==(_columns$selectedPosi=columns[selectedPosition.idx])?void 0:_columns$selectedPosi.editor)&&"SELECT"!==selectedPosition.mode&&selectedPosition.row!==selectedPosition.originalRow&&updateRow(selectedPosition.rowIdx,selectedPosition.row)}function handleEditorRowChange(row,commitChanges){"SELECT"!==selectedPosition.mode&&(commitChanges?(updateRow(selectedPosition.rowIdx,row),closeEditor()):setSelectedPosition((position=>({...position,row}))))}function handleOnClose(commitChanges){commitChanges&&commitEditorChanges(),closeEditor()}function isColIdxWithinSelectionBounds(idx){return idx>=minColIdx&&idx<=maxColIdx}function isRowIdxWithinViewportBounds(rowIdx){return rowIdx>=0&&rowIdx<rows.length}function isCellWithinSelectionBounds({idx,rowIdx}){return rowIdx>=-1&&rowIdx<=maxRowIdx&&isColIdxWithinSelectionBounds(idx)}function isCellWithinViewportBounds({idx,rowIdx}){return isRowIdxWithinViewportBounds(rowIdx)&&isColIdxWithinSelectionBounds(idx)}function isCellEditable(position){return isCellWithinViewportBounds(position)&&isSelectedCellEditable({columns,rows,selectedPosition:position,isGroupRow})}function selectCell(position,enableEditor){if(isCellWithinSelectionBounds(position))if(commitEditorChanges(),enableEditor&&isCellEditable(position)){const row=rows[position.rowIdx];setSelectedPosition({...position,mode:"EDIT",key:null,row,originalRow:row}),null==onSelectedCellChange||onSelectedCellChange(position)}else"SELECT"===selectedPosition.mode&&selectedPosition.idx===position.idx&&selectedPosition.rowIdx===position.rowIdx||(setSelectedPosition({...position,mode:"SELECT"}),null==onSelectedCellChange||onSelectedCellChange(position))}function closeEditor(){"SELECT"!==selectedPosition.mode&&setSelectedPosition((({idx,rowIdx})=>({idx,rowIdx,mode:"SELECT"})))}function scrollToCell({idx,rowIdx}){const{current}=gridRef;if(current){if("number"==typeof idx&&idx>lastFrozenColumnIndex){if(null!=rowIdx||(rowIdx=selectedPosition.rowIdx),!isCellWithinSelectionBounds({rowIdx,idx}))return;const{clientWidth}=current,column=columns[idx],{left,width}=columnMetrics.get(column);let right=left+width;const colSpan=getSelectedCellColSpan({rows,summaryRows,rowIdx,lastFrozenColumnIndex,column,isGroupRow});if(void 0!==colSpan){const{left,width}=columnMetrics.get(columns[column.idx+colSpan-1]);right=left+width}const isCellAtRightBoundary=right>clientWidth+scrollLeft;left<scrollLeft+totalFrozenColumnWidth?current.scrollLeft=left-totalFrozenColumnWidth:isCellAtRightBoundary&&(current.scrollLeft=right-clientWidth)}if("number"==typeof rowIdx&&isRowIdxWithinViewportBounds(rowIdx)){const rowTop=getRowTop(rowIdx),rowHeight=getRowHeight(rowIdx);rowTop<scrollTop?current.scrollTop=rowTop:rowTop+rowHeight>scrollTop+clientHeight&&(current.scrollTop=rowTop+rowHeight-clientHeight)}}}function getDraggedOverCellIdx(currentRowIdx){if(void 0===draggedOverRowIdx)return;const{rowIdx}=selectedPosition;return(rowIdx<draggedOverRowIdx?rowIdx<currentRowIdx&&currentRowIdx<=draggedOverRowIdx:rowIdx>currentRowIdx&&currentRowIdx>=draggedOverRowIdx)?selectedPosition.idx:void 0}function getDragHandle(rowIdx){if(selectedPosition.rowIdx===rowIdx&&"EDIT"!==selectedPosition.mode&&!hasGroups&&null!=onFill)return(0,jsx_runtime.jsx)(DragHandle,{rows:rawRows,columns,selectedPosition,isCellEditable,latestDraggedOverRowIdx,onRowsChange,onFill,setDragging,setDraggedOverRowIdx})}function getCellEditor(rowIdx){if(selectedPosition.rowIdx!==rowIdx||"SELECT"===selectedPosition.mode)return;const{idx,row}=selectedPosition,column=columns[idx],colSpan=getColSpan(column,lastFrozenColumnIndex,{type:"ROW",row});return(0,jsx_runtime.jsx)(EditCell,{column,colSpan,row,editorPortalTarget,onKeyDown:handleKeyDown,onRowChange:handleEditorRowChange,onClose:handleOnClose},column.key)}return(selectedPosition.idx>maxColIdx||selectedPosition.rowIdx>maxRowIdx)&&(setSelectedPosition(initialPosition),setDraggedOverRowIdx(void 0)),"EDIT"===selectedPosition.mode&&rows[selectedPosition.rowIdx]!==selectedPosition.originalRow&&closeEditor(),(0,jsx_runtime.jsxs)("div",{role:hasGroups?"treegrid":"grid","aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,"aria-multiselectable":!!isSelectable||void 0,"aria-colcount":columns.length,"aria-rowcount":1+rowsCount+summaryRowsCount,className:(0,clsx_m.Z)("rdg rnvodz5",className,isDragging&&"rdg-viewport-dragging vlqv91k"),style:{...style,"--header-row-height":`${headerRowHeight}px`,"--row-width":`${totalColumnWidth}px`,"--summary-row-height":`${summaryRowHeight}px`,...layoutCssVars},ref:gridRef,onScroll:function handleScroll(event){const{scrollTop,scrollLeft}=event.currentTarget;setScrollTop(scrollTop),setScrollLeft(scrollLeft),null==onScroll||onScroll(event)},onKeyDown:handleKeyDown,"data-testid":testId,children:[(0,jsx_runtime.jsx)(src_HeaderRow,{columns:viewportColumns,onColumnResize:handleColumnResize,allRowsSelected,onAllRowsSelectionChange:selectAllRowsLatest,sortColumns,onSortColumnsChange,lastFrozenColumnIndex,selectedCellIdx:isHeaderRowSelected?selectedPosition.idx:void 0,selectCell:selectHeaderCellLatest,shouldFocusGrid:!selectedCellIsWithinSelectionBounds}),0===rows.length&&noRowsFallback?noRowsFallback:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{style:{height:max(totalRowHeight,clientHeight)}}),(0,jsx_runtime.jsx)(RowSelectionChangeProvider,{value:selectRowLatest,children:function getViewportRows(){const rowElements=[];let startRowIndex=0;const{idx:selectedIdx,rowIdx:selectedRowIdx}=selectedPosition,endRowIdx=selectedCellIsWithinViewportBounds&&selectedRowIdx>rowOverscanEndIdx?rowOverscanEndIdx+1:rowOverscanEndIdx;for(let viewportRowIdx=selectedCellIsWithinViewportBounds&&selectedRowIdx<rowOverscanStartIdx?rowOverscanStartIdx-1:rowOverscanStartIdx;viewportRowIdx<=endRowIdx;viewportRowIdx++){const isRowOutsideViewport=viewportRowIdx===rowOverscanStartIdx-1||viewportRowIdx===rowOverscanEndIdx+1,rowIdx=isRowOutsideViewport?selectedRowIdx:viewportRowIdx;let rowColumns=viewportColumns;const selectedColumn=columns[selectedIdx];void 0!==selectedColumn&&(isRowOutsideViewport?rowColumns=[selectedColumn]:selectedRowIdx!==rowIdx||viewportColumns.includes(selectedColumn)||(rowColumns=selectedIdx>viewportColumns[viewportColumns.length-1].idx?[...viewportColumns,selectedColumn]:[...viewportColumns.slice(0,lastFrozenColumnIndex+1),selectedColumn,...viewportColumns.slice(lastFrozenColumnIndex+1)]));const row=rows[rowIdx],top=getRowTop(rowIdx)+headerRowHeight;if(isGroupRow(row)){({startRowIndex}=row);const isGroupRowSelected=isSelectable&&row.childRows.every((cr=>selectedRows.has(rowKeyGetter(cr))));rowElements.push((0,jsx_runtime.jsx)(src_GroupRow,{"aria-level":row.level+1,"aria-setsize":row.setSize,"aria-posinset":row.posInSet+1,"aria-rowindex":1+startRowIndex+1,"aria-selected":isSelectable?isGroupRowSelected:void 0,id:row.id,groupKey:row.groupKey,viewportColumns:rowColumns,childRows:row.childRows,rowIdx,row,top,height:getRowHeight(rowIdx),level:row.level,isExpanded:row.isExpanded,selectedCellIdx:selectedRowIdx===rowIdx?selectedIdx:void 0,isRowSelected:isGroupRowSelected,selectGroup:selectGroupLatest,toggleGroup:toggleGroupLatest},row.id));continue}let key;startRowIndex++;let isRowSelected=!1;var _selectedRows$has;if("function"==typeof rowKeyGetter)key=rowKeyGetter(row),isRowSelected=null!=(_selectedRows$has=null==selectedRows?void 0:selectedRows.has(key))&&_selectedRows$has;else key=hasGroups?startRowIndex:rowIdx;rowElements.push((0,jsx_runtime.jsx)(RowRenderer,{"aria-rowindex":1+(hasGroups?startRowIndex:rowIdx)+1,"aria-selected":isSelectable?isRowSelected:void 0,rowIdx,row,viewportColumns:rowColumns,isRowSelected,onRowClick,onRowDoubleClick,rowClass,top,height:getRowHeight(rowIdx),copiedCellIdx:null!==copiedCell&&copiedCell.row===row?columns.findIndex((c=>c.key===copiedCell.columnKey)):void 0,selectedCellIdx:selectedRowIdx===rowIdx?selectedIdx:void 0,draggedOverCellIdx:getDraggedOverCellIdx(rowIdx),setDraggedOverRowIdx:isDragging?setDraggedOverRowIdx:void 0,lastFrozenColumnIndex,onRowChange:handleFormatterRowChangeLatest,selectCell:selectViewportCellLatest,selectedCellDragHandle:getDragHandle(rowIdx),selectedCellEditor:getCellEditor(rowIdx)},key))}return rowElements}()}),null==summaryRows?void 0:summaryRows.map(((row,rowIdx)=>{const isSummaryRowSelected=selectedPosition.rowIdx===1+rows.length+rowIdx-1;return(0,jsx_runtime.jsx)(src_SummaryRow,{"aria-rowindex":1+rowsCount+rowIdx+1,rowIdx,row,bottom:summaryRowHeight*(summaryRows.length-1-rowIdx),viewportColumns,lastFrozenColumnIndex,selectedCellIdx:isSummaryRowSelected?selectedPosition.idx:void 0,selectCell:selectSummaryCellLatest},rowIdx)}))]})]})}const src_DataGrid=(0,react.forwardRef)(DataGrid);try{DataGrid.displayName="DataGrid",DataGrid.__docgenInfo={description:"",displayName:"DataGrid",props:{columns:{defaultValue:null,description:"An array of objects representing each column on the grid",name:"columns",required:!0,type:{name:"readonly Column<R, SR>[]"}},rows:{defaultValue:null,description:"A function called for each rendered row that should return a plain key/value pair object",name:"rows",required:!0,type:{name:"readonly R[]"}},summaryRows:{defaultValue:null,description:"Rows to be pinned at the bottom of the rows view for summary, the vertical scroll bar will not scroll these rows.\nBottom horizontal scroll bar can move the row left / right. Or a customized row renderer can be used to disabled the scrolling support.",name:"summaryRows",required:!1,type:{name:"Maybe<readonly SR[]>"}},rowKeyGetter:{defaultValue:null,description:"The getter should return a unique key for each row",name:"rowKeyGetter",required:!1,type:{name:"Maybe<(row: R) => K>"}},onRowsChange:{defaultValue:null,description:"",name:"onRowsChange",required:!1,type:{name:"Maybe<(rows: R[], data: RowsChangeData<R, SR>) => void>"}},rowHeight:{defaultValue:{value:"35"},description:"The height of each row in pixels",name:"rowHeight",required:!1,type:{name:"Maybe<number | ((args: RowHeightArgs<R>) => number)>"}},headerRowHeight:{defaultValue:{value:"35"},description:"The height of the header row in pixels",name:"headerRowHeight",required:!1,type:{name:"Maybe<number>"}},summaryRowHeight:{defaultValue:{value:"35"},description:"The height of each summary row in pixels",name:"summaryRowHeight",required:!1,type:{name:"Maybe<number>"}},selectedRows:{defaultValue:null,description:"Set of selected row keys",name:"selectedRows",required:!1,type:{name:"Maybe<ReadonlySet<K>>"}},onSelectedRowsChange:{defaultValue:null,description:"Function called whenever row selection is changed",name:"onSelectedRowsChange",required:!1,type:{name:"Maybe<(selectedRows: Set<K>) => void>"}},sortColumns:{defaultValue:null,description:"Used for multi column sorting",name:"sortColumns",required:!1,type:{name:"Maybe<readonly SortColumn[]>"}},onSortColumnsChange:{defaultValue:null,description:"",name:"onSortColumnsChange",required:!1,type:{name:"Maybe<(sortColumns: SortColumn[]) => void>"}},defaultColumnOptions:{defaultValue:null,description:"",name:"defaultColumnOptions",required:!1,type:{name:"Maybe<DefaultColumnOptions<R, SR>>"}},groupBy:{defaultValue:null,description:"",name:"groupBy",required:!1,type:{name:"Maybe<readonly string[]>"}},rowGrouper:{defaultValue:null,description:"",name:"rowGrouper",required:!1,type:{name:"Maybe<(rows: readonly R[], columnKey: string) => Record<string, readonly R[]>>"}},expandedGroupIds:{defaultValue:null,description:"",name:"expandedGroupIds",required:!1,type:{name:"Maybe<ReadonlySet<unknown>>"}},onExpandedGroupIdsChange:{defaultValue:null,description:"",name:"onExpandedGroupIdsChange",required:!1,type:{name:"Maybe<(expandedGroupIds: Set<unknown>) => void>"}},onFill:{defaultValue:null,description:"",name:"onFill",required:!1,type:{name:"Maybe<(event: FillEvent<R>) => R>"}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:"Maybe<(event: PasteEvent<R>) => R>"}},onRowClick:{defaultValue:null,description:"Function called whenever a row is clicked",name:"onRowClick",required:!1,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onRowDoubleClick:{defaultValue:null,description:"Function called whenever a row is double clicked",name:"onRowDoubleClick",required:!1,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onScroll:{defaultValue:null,description:"Called when the grid is scrolled",name:"onScroll",required:!1,type:{name:"Maybe<(event: UIEvent<HTMLDivElement, UIEvent>) => void>"}},onColumnResize:{defaultValue:null,description:"Called when a column is resized",name:"onColumnResize",required:!1,type:{name:"Maybe<(idx: number, width: number) => void>"}},onSelectedCellChange:{defaultValue:null,description:"Function called whenever selected cell is changed",name:"onSelectedCellChange",required:!1,type:{name:"Maybe<(position: Position) => void>"}},cellNavigationMode:{defaultValue:{value:"'NONE'"},description:"",name:"cellNavigationMode",required:!1,type:{name:"Maybe<CellNavigationMode>"}},enableVirtualization:{defaultValue:{value:"true"},description:"",name:"enableVirtualization",required:!1,type:{name:"Maybe<boolean>"}},rowRenderer:{defaultValue:null,description:"Miscellaneous",name:"rowRenderer",required:!1,type:{name:"Maybe<ComponentType<RowRendererProps<R, SR>>>"}},noRowsFallback:{defaultValue:null,description:"",name:"noRowsFallback",required:!1,type:{name:"ReactNode"}},editorPortalTarget:{defaultValue:null,description:"The node where the editor portal should mount.",name:"editorPortalTarget",required:!1,type:{name:"Maybe<Element>"}},rowClass:{defaultValue:null,description:"",name:"rowClass",required:!1,type:{name:"Maybe<(row: R) => Maybe<string>>"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"Maybe<string>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/DataGrid.tsx#DataGrid"]={docgenInfo:DataGrid.__docgenInfo,name:"DataGrid",path:"src/DataGrid.tsx#DataGrid"})}catch(__react_docgen_typescript_loader_error){}async function exportToCsv(gridElement,fileName){const{head,body,foot}=await getGridContent(gridElement),content=[...head,...body,...foot].map((cells=>cells.map(serialiseCellValue).join(","))).join("\n");!function downloadFile(fileName,data){const downloadLink=document.createElement("a");downloadLink.download=fileName;const url=URL.createObjectURL(data);downloadLink.href=url,downloadLink.click(),URL.revokeObjectURL(url)}(fileName,new Blob([content],{type:"text/csv;charset=utf-8;"}))}async function getGridContent(gridElement){const{renderToStaticMarkup}=await __webpack_require__.e(762).then(__webpack_require__.t.bind(__webpack_require__,97762,19)),grid=document.createElement("div");return grid.innerHTML=renderToStaticMarkup((0,react.cloneElement)(gridElement,{enableVirtualization:!1})),{head:getRows(".rdg-header-row"),body:getRows(".rdg-row:not(.rdg-summary-row)"),foot:getRows(".rdg-summary-row")};function getRows(selector){return Array.from(grid.querySelectorAll(selector)).map((gridRow=>Array.from(gridRow.querySelectorAll(".rdg-cell")).map((gridCell=>gridCell.innerText))))}}function serialiseCellValue(value){if("string"==typeof value){const formattedValue=value.replace(/"/g,'""');return formattedValue.includes(",")?`"${formattedValue}"`:formattedValue}return value}const dateFormatter=new Intl.DateTimeFormat(navigator.language),currencyFormatter=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"eur"});function TimestampFormatter({timestamp}){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:dateFormatter.format(timestamp)})}function CurrencyFormatter({value}){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:currencyFormatter.format(value)})}function rowKeyGetter(row){return row.id}function createRows(){const now=Date.now(),rows=[];for(let i=0;i<1e3;i++)rows.push({id:i,title:`Task #${i+1}`,client:faker_default().company.companyName(),area:faker_default().name.jobArea(),country:faker_default().address.country(),contact:faker_default().internet.exampleEmail(),assignee:faker_default().name.findName(),progress:100*Math.random(),startTimestamp:now-Math.round(1e10*Math.random()),endTimestamp:now+Math.round(1e10*Math.random()),budget:500+10500*Math.random(),transaction:faker_default().finance.transactionType(),account:faker_default().finance.iban(),version:faker_default().system.semver(),available:Math.random()>.5});return rows}function getComparator(sortColumn){switch(sortColumn){case"assignee":case"title":case"client":case"area":case"country":case"contact":case"transaction":case"account":case"version":return(a,b)=>a[sortColumn].localeCompare(b[sortColumn]);case"available":return(a,b)=>a[sortColumn]===b[sortColumn]?0:a[sortColumn]?1:-1;case"id":case"progress":case"startTimestamp":case"endTimestamp":case"budget":return(a,b)=>a[sortColumn]-b[sortColumn];default:throw new Error(`unsupported sortColumn: "${sortColumn}"`)}}function CommonFeatures(){const[rows,setRows]=(0,react.useState)(createRows),[sortColumns,setSortColumns]=(0,react.useState)([]),[selectedRows,setSelectedRows]=(0,react.useState)((()=>new Set)),countries=(0,react.useMemo)((()=>[...new Set(rows.map((r=>r.country)))].sort((new Intl.Collator).compare)),[]),columns=(0,react.useMemo)((()=>function getColumns(countries){return[SelectColumn,{key:"id",name:"ID",width:60,frozen:!0,resizable:!1,summaryFormatter:()=>(0,jsx_runtime.jsx)("strong",{children:"Total"})},{key:"title",name:"Task",width:120,frozen:!0,editor:TextEditor,summaryFormatter:({row})=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[row.totalCount," records"]})},{key:"client",name:"Client",width:220,editor:TextEditor},{key:"area",name:"Area",width:120,editor:TextEditor},{key:"country",name:"Country",width:180,editor:p=>(0,jsx_runtime.jsx)("select",{autoFocus:!0,className:"rdg-text-editor t1u15qzo",value:p.row.country,onChange:e=>p.onRowChange({...p.row,country:e.target.value},!0),children:countries.map((country=>(0,jsx_runtime.jsx)("option",{children:country},country)))}),editorOptions:{editOnClick:!0}},{key:"contact",name:"Contact",width:160,editor:TextEditor},{key:"assignee",name:"Assignee",width:150,editor:TextEditor},{key:"progress",name:"Completion",width:110,formatter(props){const value=props.row.progress;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("progress",{max:100,value,style:{width:50}})," ",Math.round(value),"%"]})},editor:({row,onRowChange,onClose})=>(0,jsx_runtime.jsx)("div",{className:"d1p1p7be",children:(0,jsx_runtime.jsxs)("dialog",{open:!0,children:[(0,jsx_runtime.jsx)("input",{autoFocus:!0,type:"range",min:"0",max:"100",value:row.progress,onChange:e=>onRowChange({...row,progress:e.target.valueAsNumber})}),(0,jsx_runtime.jsxs)("menu",{children:[(0,jsx_runtime.jsx)("button",{onClick:()=>onClose(),children:"Cancel"}),(0,jsx_runtime.jsx)("button",{onClick:()=>onClose(!0),children:"Save"})]})]})}),editorOptions:{createPortal:!0}},{key:"startTimestamp",name:"Start date",width:100,formatter:props=>(0,jsx_runtime.jsx)(TimestampFormatter,{timestamp:props.row.startTimestamp})},{key:"endTimestamp",name:"Deadline",width:100,formatter:props=>(0,jsx_runtime.jsx)(TimestampFormatter,{timestamp:props.row.endTimestamp})},{key:"budget",name:"Budget",width:100,formatter:props=>(0,jsx_runtime.jsx)(CurrencyFormatter,{value:props.row.budget})},{key:"transaction",name:"Transaction type"},{key:"account",name:"Account",width:150},{key:"version",name:"Version",editor:TextEditor},{key:"available",name:"Available",width:80,formatter:({row,onRowChange,isCellSelected})=>(0,jsx_runtime.jsx)(SelectCellFormatter,{value:row.available,onChange:()=>{onRowChange({...row,available:!row.available})},onClick:stopPropagation,isCellSelected}),summaryFormatter:({row:{yesCount,totalCount}})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:`${Math.floor(100*yesCount/totalCount)}% ✔️`})}]}(countries)),[countries]),summaryRows=(0,react.useMemo)((()=>[{id:"total_0",totalCount:rows.length,yesCount:rows.filter((r=>r.available)).length}]),[rows]),sortedRows=(0,react.useMemo)((()=>{if(0===sortColumns.length)return rows;const sortedRows=[...rows];return sortedRows.sort(((a,b)=>{for(const sort of sortColumns){const compResult=getComparator(sort.columnKey)(a,b);if(0!==compResult)return"ASC"===sort.direction?compResult:-compResult}return 0})),sortedRows}),[rows,sortColumns]),gridElement=(0,jsx_runtime.jsx)(src_DataGrid,{rowKeyGetter,columns,rows:sortedRows,defaultColumnOptions:{sortable:!0,resizable:!0},selectedRows,onSelectedRowsChange:setSelectedRows,onRowsChange:setRows,sortColumns,onSortColumnsChange:setSortColumns,summaryRows,className:"fill-grid"});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"t7i9itg",children:[(0,jsx_runtime.jsx)(ExportButton,{onExport:()=>exportToCsv(gridElement,"CommonFeatures.csv"),children:"Export to CSV"}),(0,jsx_runtime.jsx)(ExportButton,{onExport:()=>async function exportToXlsx(gridElement,fileName){const[{utils,writeFile},{head,body,foot}]=await Promise.all([Promise.all([__webpack_require__.e(869),__webpack_require__.e(576)]).then(__webpack_require__.t.bind(__webpack_require__,7869,23)),getGridContent(gridElement)]),wb=utils.book_new(),ws=utils.aoa_to_sheet([...head,...body,...foot]);utils.book_append_sheet(wb,ws,"Sheet 1"),writeFile(wb,fileName)}(gridElement,"CommonFeatures.xlsx"),children:"Export to XSLX"}),(0,jsx_runtime.jsx)(ExportButton,{onExport:()=>async function exportToPdf(gridElement,fileName){const[{jsPDF},autoTable,{head,body,foot}]=await Promise.all([__webpack_require__.e(168).then(__webpack_require__.bind(__webpack_require__,1168)),(await Promise.all([__webpack_require__.e(168),__webpack_require__.e(159)]).then(__webpack_require__.t.bind(__webpack_require__,18159,23))).default,await getGridContent(gridElement)]),doc=new jsPDF({orientation:"l",unit:"px"});autoTable(doc,{head,body,foot,horizontalPageBreak:!0,styles:{cellPadding:1.5,fontSize:8,cellWidth:"wrap"},tableWidth:"wrap"}),doc.save(fileName)}(gridElement,"CommonFeatures.pdf"),children:"Export to PDF"})]}),gridElement]})}function ExportButton({onExport,children}){const[exporting,setExporting]=(0,react.useState)(!1);return(0,jsx_runtime.jsx)("button",{disabled:exporting,onClick:async()=>{setExporting(!0),await onExport(),setExporting(!1)},children:exporting?"Exporting":children})}CommonFeatures.storyName="Common Features",__webpack_require__(52577);const titles=["Dr.","Mr.","Mrs.","Miss","Ms."];function DropDownEditor({row,onRowChange}){return(0,jsx_runtime.jsx)("select",{className:"rdg-text-editor t1u15qzo",value:row.title,onChange:event=>onRowChange({...row,title:event.target.value},!0),autoFocus:!0,children:titles.map((title=>(0,jsx_runtime.jsx)("option",{value:title,children:title},title)))})}try{DropDownEditor.displayName="DropDownEditor",DropDownEditor.__docgenInfo={description:"",displayName:"DropDownEditor",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<Row, unknown>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row"}},editorPortalTarget:{defaultValue:null,description:"",name:"editorPortalTarget",required:!0,type:{name:"Element"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(row: Row, commitChanges?: boolean | undefined) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(commitChanges?: boolean | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/Editors/DropDownEditor.tsx#DropDownEditor"]={docgenInfo:DropDownEditor.__docgenInfo,name:"DropDownEditor",path:"stories/demos/components/Editors/DropDownEditor.tsx#DropDownEditor"})}catch(__react_docgen_typescript_loader_error){}function ImageFormatter({value}){return(0,jsx_runtime.jsx)("div",{className:"wz5qd97",children:(0,jsx_runtime.jsx)("div",{className:"ilq6kkh",style:{backgroundImage:`url(${value})`}})})}__webpack_require__(79050);try{ImageFormatter.displayName="ImageFormatter",ImageFormatter.__docgenInfo={description:"",displayName:"ImageFormatter",props:{value:{defaultValue:null,description:"image url, used as background-image",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/Formatters/ImageFormatter.tsx#ImageFormatter"]={docgenInfo:ImageFormatter.__docgenInfo,name:"ImageFormatter",path:"stories/demos/components/Formatters/ImageFormatter.tsx#ImageFormatter"})}catch(__react_docgen_typescript_loader_error){}function AllFeatures_rowKeyGetter(row){return row.id}faker_default().locale="en_GB";const columns=[SelectColumn,{key:"id",name:"ID",width:80,resizable:!0,frozen:!0},{key:"avatar",name:"Avatar",width:40,resizable:!0,headerRenderer:()=>(0,jsx_runtime.jsx)(ImageFormatter,{value:faker_default().image.cats()}),formatter:({row})=>(0,jsx_runtime.jsx)(ImageFormatter,{value:row.avatar})},{key:"title",name:"Title",width:200,resizable:!0,formatter:props=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.row.title}),editor:DropDownEditor,editorOptions:{editOnClick:!0}},{key:"firstName",name:"First Name",width:200,resizable:!0,frozen:!0,editor:TextEditor},{key:"lastName",name:"Last Name",width:200,resizable:!0,frozen:!0,editor:TextEditor},{key:"email",name:"Email",width:200,resizable:!0,editor:TextEditor},{key:"street",name:"Street",width:200,resizable:!0,editor:TextEditor},{key:"zipCode",name:"ZipCode",width:200,resizable:!0,editor:TextEditor},{key:"date",name:"Date",width:200,resizable:!0,editor:TextEditor},{key:"bs",name:"bs",width:200,resizable:!0,editor:TextEditor},{key:"catchPhrase",name:"Catch Phrase",width:200,resizable:!0,editor:TextEditor},{key:"companyName",name:"Company Name",width:200,resizable:!0,editor:TextEditor},{key:"sentence",name:"Sentence",width:200,resizable:!0,editor:TextEditor}];function AllFeatures_createRows(){const rows=[];for(let i=0;i<2e3;i++)rows.push({id:`id_${i}`,avatar:faker_default().image.avatar(),email:faker_default().internet.email(),title:faker_default().name.prefix(),firstName:faker_default().name.firstName(),lastName:faker_default().name.lastName(),street:faker_default().address.streetName(),zipCode:faker_default().address.zipCode(),date:faker_default().date.past().toLocaleDateString(),bs:faker_default().company.bs(),catchPhrase:faker_default().company.catchPhrase(),companyName:faker_default().company.companyName(),words:faker_default().lorem.words(),sentence:faker_default().lorem.sentence()});return rows}function AllFeatures(){const[rows,setRows]=(0,react.useState)(AllFeatures_createRows),[selectedRows,setSelectedRows]=(0,react.useState)((()=>new Set));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src_DataGrid,{columns,rows,rowKeyGetter:AllFeatures_rowKeyGetter,onRowsChange:setRows,onFill:function handleFill({columnKey,sourceRow,targetRow}){return{...targetRow,[columnKey]:sourceRow[columnKey]}},onPaste:function handlePaste({sourceColumnKey,sourceRow,targetColumnKey,targetRow}){const incompatibleColumns=["email","zipCode","date"];return"avatar"===sourceColumnKey||["id","avatar"].includes(targetColumnKey)||(incompatibleColumns.includes(targetColumnKey)||incompatibleColumns.includes(sourceColumnKey))&&sourceColumnKey!==targetColumnKey?targetRow:{...targetRow,[targetColumnKey]:sourceRow[sourceColumnKey]}},rowHeight:30,selectedRows,onSelectedRowsChange:setSelectedRows,className:"fill-grid",rowClass:row=>row.id.includes("7")?"h1twnohl":void 0})})}AllFeatures.storyName="All Features",__webpack_require__(54810);const rows=[...Array(1e3).keys()];function CellFormatter(props){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[props.column.key,"×",props.row]})}function MillionCells(){const columns=(0,react.useMemo)((()=>{const columns=[];for(let i=0;i<1e3;i++){const key=String(i);columns.push({key,name:key,frozen:i<5,resizable:!0,formatter:CellFormatter})}return columns}),[]);return(0,jsx_runtime.jsx)(src_DataGrid,{columns,rows,rowHeight:22,className:"fill-grid"})}function EmptyRowsRenderer(){return(0,jsx_runtime.jsxs)("div",{style:{textAlign:"center"},children:["Nothing to show"," ",(0,jsx_runtime.jsx)("span",{lang:"ja",title:"ショボーン",children:"(´・ω・`)"})]})}MillionCells.storyName="A Million Cells";const NoRows_columns=[SelectColumn,{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}],NoRows_rows=[];function NoRows_rowKeyGetter(row){return row.id}function NoRows(){const[selectedRows,onSelectedRowsChange]=(0,react.useState)((()=>new Set));return(0,jsx_runtime.jsx)(src_DataGrid,{columns:NoRows_columns,rows:NoRows_rows,noRowsFallback:(0,jsx_runtime.jsx)(EmptyRowsRenderer,{}),selectedRows,onSelectedRowsChange,rowKeyGetter:NoRows_rowKeyGetter,className:"small-grid"})}NoRows.storyName="No Rows";function CellExpanderFormatter({isCellSelected,expanded,onCellExpand}){const{ref,tabIndex}=useFocusRef(isCellSelected);return(0,jsx_runtime.jsx)("div",{className:"c1c8nyw4",children:(0,jsx_runtime.jsx)("span",{onClick:onCellExpand,onKeyDown:function handleKeyDown(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),onCellExpand())},children:(0,jsx_runtime.jsx)("span",{ref,tabIndex,children:expanded?"▼":"▶"})})})}__webpack_require__(78865);try{CellExpanderFormatter.displayName="CellExpanderFormatter",CellExpanderFormatter.__docgenInfo={description:"",displayName:"CellExpanderFormatter",props:{isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!0,type:{name:"boolean"}},onCellExpand:{defaultValue:null,description:"",name:"onCellExpand",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/Formatters/CellExpanderFormatter.tsx#CellExpanderFormatter"]={docgenInfo:CellExpanderFormatter.__docgenInfo,name:"CellExpanderFormatter",path:"stories/demos/components/Formatters/CellExpanderFormatter.tsx#CellExpanderFormatter"})}catch(__react_docgen_typescript_loader_error){}function ChildRowDeleteButton({isCellSelected,onDeleteSubRow,isDeleteSubRowEnabled}){const{ref,tabIndex}=useFocusRef(isCellSelected);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"cwshxdl"}),isDeleteSubRowEnabled&&(0,jsx_runtime.jsx)("div",{className:"cz4rbis",onClick:onDeleteSubRow,children:(0,jsx_runtime.jsx)("span",{ref,tabIndex,onKeyDown:function handleKeyDown(e){"Enter"===e.key&&(e.preventDefault(),onDeleteSubRow())},children:"❌"})})]})}__webpack_require__(32121);try{ChildRowDeleteButton.displayName="ChildRowDeleteButton",ChildRowDeleteButton.__docgenInfo={description:"",displayName:"ChildRowDeleteButton",props:{isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}},isDeleteSubRowEnabled:{defaultValue:null,description:"",name:"isDeleteSubRowEnabled",required:!0,type:{name:"boolean"}},onDeleteSubRow:{defaultValue:null,description:"",name:"onDeleteSubRow",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/Formatters/ChildRowDeleteButton.tsx#ChildRowDeleteButton"]={docgenInfo:ChildRowDeleteButton.__docgenInfo,name:"ChildRowDeleteButton",path:"stories/demos/components/Formatters/ChildRowDeleteButton.tsx#ChildRowDeleteButton"})}catch(__react_docgen_typescript_loader_error){}function reducer(rows,{type,id}){switch(type){case"toggleSubRow":return function toggleSubRow(rows,id){const rowIndex=rows.findIndex((r=>r.id===id)),row=rows[rowIndex],{children}=row;if(!children)return rows;const newRows=[...rows];return newRows[rowIndex]={...row,isExpanded:!row.isExpanded},row.isExpanded?newRows.splice(rowIndex+1,children.length):newRows.splice(rowIndex+1,0,...children),newRows}(rows,id);case"deleteSubRow":return function deleteSubRow(rows,id){const row=rows.find((r=>r.id===id));if(!row||!row.parentId)return rows;const newRows=rows.filter((r=>r.id!==id)),parentRowIndex=newRows.findIndex((r=>r.id===row.parentId)),{children}=newRows[parentRowIndex];if(children){const newChildren=children.filter((sr=>sr.id!==id));newRows[parentRowIndex]={...newRows[parentRowIndex],children:newChildren}}return newRows}(rows,id);default:return rows}}const defaultRows=function TreeView_createRows(){const rows=[];for(let i=0;i<100;i++){const price=30*Math.random(),id=`row${i}`,row={id,name:`supplier ${i}`,format:`package ${i}`,position:"Run of site",price,children:[{id:`${id}-0`,parentId:id,name:`supplier ${i}`,format:"728x90",position:"run of site",price:price/2},{id:`${id}-1`,parentId:id,name:`supplier ${i}`,format:"480x600",position:"run of site",price:.25*price},{id:`${id}-2`,parentId:id,name:`supplier ${i}`,format:"328x70",position:"run of site",price:.25*price}],isExpanded:!1};rows.push(row)}return rows}();function TreeView(){const[rows,dispatch]=(0,react.useReducer)(reducer,defaultRows),[allowDelete,setAllowDelete]=(0,react.useState)(!0),columns=(0,react.useMemo)((()=>[{key:"id",name:"id",frozen:!0},{key:"name",name:"Name"},{key:"format",name:"format",formatter({row,isCellSelected}){const hasChildren=void 0!==row.children,style=hasChildren?void 0:{marginLeft:30};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[hasChildren&&(0,jsx_runtime.jsx)(CellExpanderFormatter,{isCellSelected,expanded:!0===row.isExpanded,onCellExpand:()=>dispatch({id:row.id,type:"toggleSubRow"})}),(0,jsx_runtime.jsxs)("div",{className:"rdg-cell-value",children:[!hasChildren&&(0,jsx_runtime.jsx)(ChildRowDeleteButton,{isCellSelected,isDeleteSubRowEnabled:allowDelete,onDeleteSubRow:()=>dispatch({id:row.id,type:"deleteSubRow"})}),(0,jsx_runtime.jsx)("div",{style,children:row.format})]})]})}},{key:"position",name:"position"},{key:"price",name:"price"}]),[allowDelete]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("label",{children:["Allow Delete",(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:allowDelete,onChange:()=>setAllowDelete(!allowDelete)})]}),(0,jsx_runtime.jsx)(src_DataGrid,{columns,rows,className:"big-grid"})]})}TreeView.storyName="Tree View";var es6=__webpack_require__(31738);function ContextMenu_createRows(){const rows=[];for(let i=1;i<1e3;i++)rows.push({id:i,product:faker_default().commerce.productName(),price:faker_default().commerce.price()});return rows}const ContextMenu_columns=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function ContextMenu_rowKeyGetter(row){return row.id}function RowRenderer(props){return(0,jsx_runtime.jsx)(es6.W4,{id:"grid-context-menu",collect:()=>({rowIdx:props.rowIdx}),children:(0,jsx_runtime.jsx)(RowWithRef,{...props})})}function ContextMenuStory(){const[rows,setRows]=(0,react.useState)(ContextMenu_createRows),[nextId,setNextId]=(0,react.useReducer)((id=>id+1),rows[rows.length-1].id+1);function insertRow(insertRowIdx){const newRow={id:nextId,product:faker_default().commerce.productName(),price:faker_default().commerce.price()};setRows([...rows.slice(0,insertRowIdx),newRow,...rows.slice(insertRowIdx)]),setNextId()}return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src_DataGrid,{rowKeyGetter:ContextMenu_rowKeyGetter,columns:ContextMenu_columns,rows,rowRenderer:RowRenderer,className:"fill-grid"}),(0,react_dom.createPortal)((0,jsx_runtime.jsxs)(es6.xV,{id:"grid-context-menu",children:[(0,jsx_runtime.jsx)(es6.sN,{onClick:function onRowDelete(e,{rowIdx}){setRows([...rows.slice(0,rowIdx),...rows.slice(rowIdx+1)])},children:"Delete Row"}),(0,jsx_runtime.jsxs)(es6.Wd,{title:"Insert Row",children:[(0,jsx_runtime.jsx)(es6.sN,{onClick:function onRowInsertAbove(e,{rowIdx}){insertRow(rowIdx)},children:"Above"}),(0,jsx_runtime.jsx)(es6.sN,{onClick:function onRowInsertBelow(e,{rowIdx}){insertRow(rowIdx+1)},children:"Below"})]})]}),document.body)]})}ContextMenuStory.storyName="Context Menu",__webpack_require__(32332);const ScrollToRow_columns=[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}];function ScrollToRow(){const[rows]=(0,react.useState)((()=>{const rows=[];for(let i=0;i<1e3;i++)rows.push({id:i,title:`Title ${i}`,count:1e3*i});return rows})),[value,setValue]=(0,react.useState)("10"),gridRef=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{style:{marginBottom:5},children:[(0,jsx_runtime.jsx)("span",{style:{marginRight:5},children:"Row index: "}),(0,jsx_runtime.jsx)("input",{style:{width:50},type:"number",value,onChange:event=>setValue(event.target.value)}),(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>gridRef.current.scrollToRow(Number(value)),children:"Scroll to row"})]}),(0,jsx_runtime.jsx)(src_DataGrid,{ref:gridRef,columns:ScrollToRow_columns,rows})]})}ScrollToRow.storyName="Scroll To Row";const CellNavigation_columns=[{key:"id",name:"ID",width:80},{key:"task",name:"Title"},{key:"priority",name:"Priority"},{key:"issueType",name:"Issue Type"},{key:"complete",name:"% Complete"},{key:"startDate",name:"Start Date"},{key:"completeDate",name:"Expected Complete",width:200}];function getRandomDate(start,end){return new Date(start.getTime()+Math.random()*(end.getTime()-start.getTime())).toLocaleDateString()}function CellNavigation_createRows(){const rows=[];for(let i=1;i<500;i++)rows.push({id:i,task:`Task ${i}`,complete:Math.min(100,Math.round(110*Math.random())),priority:["Critical","High","Medium","Low"][Math.floor(3*Math.random()+1)],issueType:["Bug","Improvement","Epic","Story"][Math.floor(3*Math.random()+1)],startDate:getRandomDate(new Date(2015,3,1),new Date),completeDate:getRandomDate(new Date,new Date(2016,0,1))});return rows}function CellNavigation(){const[rows]=(0,react.useState)(CellNavigation_createRows),[cellNavigatioMode,setCellNavigationMode]=(0,react.useState)("CHANGE_ROW");return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{style:{marginBottom:5},children:["Cell Navigation Modes:",(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"mode",checked:"NONE"===cellNavigatioMode,onChange:()=>setCellNavigationMode("NONE")}),"None"]}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"mode",checked:"CHANGE_ROW"===cellNavigatioMode,onChange:()=>setCellNavigationMode("CHANGE_ROW")}),"Change Row"]}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",name:"mode",checked:"LOOP_OVER_ROW"===cellNavigatioMode,onChange:()=>setCellNavigationMode("LOOP_OVER_ROW")}),"Loop Over Row"]})]}),(0,jsx_runtime.jsx)(src_DataGrid,{columns:CellNavigation_columns,rows,cellNavigationMode:cellNavigatioMode})]})}CellNavigation.storyName="Cell Navigation";const FilterContext=(0,react.createContext)(void 0);function inputStopPropagation(event){["ArrowLeft","ArrowRight"].includes(event.key)&&event.stopPropagation()}function selectStopPropagation(event){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(event.key)&&event.stopPropagation()}function HeaderFilters(){const[rows]=(0,react.useState)(HeaderFilters_createRows),[filters,setFilters]=(0,react.useState)({task:"",priority:"Critical",issueType:"All",developer:"",complete:void 0,enabled:!0}),developerOptions=(0,react.useMemo)((()=>Array.from(new Set(rows.map((r=>r.developer)))).map((d=>({label:d,value:d})))),[rows]),columns=(0,react.useMemo)((()=>[{key:"id",name:"ID",width:50},{key:"task",name:"Title",headerCellClass:"filter-cell",headerRenderer:p=>(0,jsx_runtime.jsx)(FilterRenderer,{...p,children:({filters,...rest})=>(0,jsx_runtime.jsx)("input",{...rest,className:"f1b5n7qv",value:filters.task,onChange:e=>setFilters({...filters,task:e.target.value}),onKeyDown:inputStopPropagation})})},{key:"priority",name:"Priority",headerCellClass:"filter-cell",headerRenderer:p=>(0,jsx_runtime.jsx)(FilterRenderer,{...p,children:({filters,...rest})=>(0,jsx_runtime.jsxs)("select",{...rest,className:"f1b5n7qv",value:filters.priority,onChange:e=>setFilters({...filters,priority:e.target.value}),onKeyDown:selectStopPropagation,children:[(0,jsx_runtime.jsx)("option",{value:"All",children:"All"}),(0,jsx_runtime.jsx)("option",{value:"Critical",children:"Critical"}),(0,jsx_runtime.jsx)("option",{value:"High",children:"High"}),(0,jsx_runtime.jsx)("option",{value:"Medium",children:"Medium"}),(0,jsx_runtime.jsx)("option",{value:"Low",children:"Low"})]})})},{key:"issueType",name:"Issue Type",headerCellClass:"filter-cell",headerRenderer:p=>(0,jsx_runtime.jsx)(FilterRenderer,{...p,children:({filters,...rest})=>(0,jsx_runtime.jsxs)("select",{...rest,className:"f1b5n7qv",value:filters.issueType,onChange:e=>setFilters({...filters,issueType:e.target.value}),onKeyDown:selectStopPropagation,children:[(0,jsx_runtime.jsx)("option",{value:"All",children:"All"}),(0,jsx_runtime.jsx)("option",{value:"Bug",children:"Bug"}),(0,jsx_runtime.jsx)("option",{value:"Improvement",children:"Improvement"}),(0,jsx_runtime.jsx)("option",{value:"Epic",children:"Epic"}),(0,jsx_runtime.jsx)("option",{value:"Story",children:"Story"})]})})},{key:"developer",name:"Developer",headerCellClass:"filter-cell",headerRenderer:p=>(0,jsx_runtime.jsx)(FilterRenderer,{...p,children:({filters,...rest})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("input",{...rest,className:"f1b5n7qv",value:filters.developer,onChange:e=>setFilters({...filters,developer:e.target.value}),onKeyDown:inputStopPropagation,list:"developers"})})})},{key:"complete",name:"% Complete",headerCellClass:"filter-cell",headerRenderer:p=>(0,jsx_runtime.jsx)(FilterRenderer,{...p,children:({filters,...rest})=>(0,jsx_runtime.jsx)("input",{...rest,type:"number",className:"f1b5n7qv",value:filters.complete,onChange:e=>setFilters({...filters,complete:Number.isFinite(e.target.valueAsNumber)?e.target.valueAsNumber:void 0}),onKeyDown:inputStopPropagation})})}]),[]),filteredRows=(0,react.useMemo)((()=>rows.filter((r=>(!filters.task||r.task.includes(filters.task))&&("All"===filters.priority||r.priority===filters.priority)&&("All"===filters.issueType||r.issueType===filters.issueType)&&(!filters.developer||r.developer.toLowerCase().startsWith(filters.developer.toLowerCase()))&&(void 0===filters.complete||r.complete>=filters.complete)))),[rows,filters]);return(0,jsx_runtime.jsxs)("div",{className:"rupha34",children:[(0,jsx_runtime.jsxs)("div",{className:"tg4uyew",children:[(0,jsx_runtime.jsx)("button",{type:"button",onClick:function toggleFilters(){setFilters((filters=>({...filters,enabled:!filters.enabled})))},children:"Toggle Filters"})," ",(0,jsx_runtime.jsx)("button",{type:"button",onClick:function clearFilters(){setFilters({task:"",priority:"All",issueType:"All",developer:"",complete:void 0,enabled:!0})},children:"Clear Filters"})]}),(0,jsx_runtime.jsx)(FilterContext.Provider,{value:filters,children:(0,jsx_runtime.jsx)(src_DataGrid,{className:filters.enabled?"f1opl9mq":void 0,columns,rows:filteredRows,headerRowHeight:filters.enabled?70:void 0})}),(0,jsx_runtime.jsx)("datalist",{id:"developers",children:developerOptions.map((({label,value})=>(0,jsx_runtime.jsx)("option",{value,children:label},value)))})]})}function FilterRenderer({isCellSelected,column,children}){const filters=(0,react.useContext)(FilterContext),{ref,tabIndex}=useFocusRef(isCellSelected);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:column.name}),filters.enabled&&(0,jsx_runtime.jsx)("div",{children:children({ref,tabIndex,filters})})]})}function HeaderFilters_createRows(){const rows=[];for(let i=1;i<500;i++)rows.push({id:i,task:`Task ${i}`,complete:Math.min(100,Math.round(110*Math.random())),priority:["Critical","High","Medium","Low"][Math.floor(4*Math.random())],issueType:["Bug","Improvement","Epic","Story"][Math.floor(4*Math.random())],developer:faker_default().name.findName()});return rows}__webpack_require__(22218);const ColumnSpanning_rows=[...Array(100).keys()];function ColumnSpanning_CellFormatter(props){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[props.column.key,"×",props.row]})}function ColumnSpanning(){const columns=(0,react.useMemo)((()=>{const columns=[];for(let i=0;i<30;i++){const key=String(i);columns.push({key,name:key,frozen:i<5,resizable:!0,formatter:ColumnSpanning_CellFormatter,colSpan(args){if("ROW"===args.type){if("2"===key&&2===args.row)return 3;if("4"===key&&4===args.row)return 6;if("0"===key&&5===args.row)return 5;if("27"===key&&8===args.row)return 3;if("6"===key&&args.row<8)return 2}if("HEADER"===args.type&&"8"===key)return 3},cellClass(row){if("0"===key&&5===row||"2"===key&&2===row||"27"===key&&8===row||"6"===key&&row<8)return"cwvmh61"}})}return columns}),[]);return(0,jsx_runtime.jsx)(src_DataGrid,{columns,rows:ColumnSpanning_rows,rowHeight:22,className:"fill-grid"})}ColumnSpanning.storyName="Column Spanning",__webpack_require__(97197);var DndProvider=__webpack_require__(81365),esm=__webpack_require__(57865),useDrag=__webpack_require__(5200),useDrop=__webpack_require__(59240);function DraggableHeaderRenderer({onColumnsReorder,column,sortDirection,onSort,priority,isCellSelected}){const[{isDragging},drag]=(0,useDrag.c)({type:"COLUMN_DRAG",item:{key:column.key},collect:monitor=>({isDragging:monitor.isDragging()})}),[{isOver},drop]=(0,useDrop.L)({accept:"COLUMN_DRAG",drop({key}){onColumnsReorder(key,column.key)},collect:monitor=>({isOver:monitor.isOver(),canDrop:monitor.canDrop()})});return(0,jsx_runtime.jsx)("div",{ref:useCombinedRefs(drag,drop),style:{opacity:isDragging?.5:1,backgroundColor:isOver?"#ececec":void 0,cursor:"move"},children:(0,jsx_runtime.jsx)(SortableHeaderCell,{sortDirection,onSort,priority,isCellSelected,children:column.name})})}try{DraggableHeaderRenderer.displayName="DraggableHeaderRenderer",DraggableHeaderRenderer.__docgenInfo={description:"",displayName:"DraggableHeaderRenderer",props:{onColumnsReorder:{defaultValue:null,description:"",name:"onColumnsReorder",required:!0,type:{name:"(sourceKey: string, targetKey: string) => void"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"CalculatedColumn<R, unknown>"}},sortDirection:{defaultValue:null,description:"",name:"sortDirection",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"ASC"'},{value:'"DESC"'}]}},priority:{defaultValue:null,description:"",name:"priority",required:!0,type:{name:"number | undefined"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!0,type:{name:"(ctrlClick: boolean) => void"}},allRowsSelected:{defaultValue:null,description:"",name:"allRowsSelected",required:!0,type:{name:"boolean"}},onAllRowsSelectionChange:{defaultValue:null,description:"",name:"onAllRowsSelectionChange",required:!0,type:{name:"(checked: boolean) => void"}},isCellSelected:{defaultValue:null,description:"",name:"isCellSelected",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/HeaderRenderers/DraggableHeaderRenderer.tsx#DraggableHeaderRenderer"]={docgenInfo:DraggableHeaderRenderer.__docgenInfo,name:"DraggableHeaderRenderer",path:"stories/demos/components/HeaderRenderers/DraggableHeaderRenderer.tsx#DraggableHeaderRenderer"})}catch(__react_docgen_typescript_loader_error){}function ColumnsReordering_createRows(){const rows=[];for(let i=1;i<500;i++)rows.push({id:i,task:`Task ${i}`,complete:Math.min(100,Math.round(110*Math.random())),priority:["Critical","High","Medium","Low"][Math.round(3*Math.random())],issueType:["Bug","Improvement","Epic","Story"][Math.round(3*Math.random())]});return rows}function createColumns(){return[{key:"id",name:"ID",width:80},{key:"task",name:"Title",resizable:!0,sortable:!0},{key:"priority",name:"Priority",resizable:!0,sortable:!0},{key:"issueType",name:"Issue Type",resizable:!0,sortable:!0},{key:"complete",name:"% Complete",resizable:!0,sortable:!0}]}function ColumnsReordering(){const[rows]=(0,react.useState)(ColumnsReordering_createRows),[columns,setColumns]=(0,react.useState)(createColumns),[sortColumns,setSortColumns]=(0,react.useState)([]),onSortColumnsChange=(0,react.useCallback)((sortColumns=>{setSortColumns(sortColumns.slice(-1))}),[]),draggableColumns=(0,react.useMemo)((()=>{function HeaderRenderer(props){return(0,jsx_runtime.jsx)(DraggableHeaderRenderer,{...props,onColumnsReorder:handleColumnsReorder})}function handleColumnsReorder(sourceKey,targetKey){const sourceColumnIndex=columns.findIndex((c=>c.key===sourceKey)),targetColumnIndex=columns.findIndex((c=>c.key===targetKey)),reorderedColumns=[...columns];reorderedColumns.splice(targetColumnIndex,0,reorderedColumns.splice(sourceColumnIndex,1)[0]),setColumns(reorderedColumns)}return columns.map((c=>"id"===c.key?c:{...c,headerRenderer:HeaderRenderer}))}),[columns]),sortedRows=(0,react.useMemo)((()=>{if(0===sortColumns.length)return rows;const{columnKey,direction}=sortColumns[0];let sortedRows=[...rows];switch(columnKey){case"task":case"priority":case"issueType":sortedRows=sortedRows.sort(((a,b)=>a[columnKey].localeCompare(b[columnKey])));break;case"complete":sortedRows=sortedRows.sort(((a,b)=>a[columnKey]-b[columnKey]))}return"DESC"===direction?sortedRows.reverse():sortedRows}),[rows,sortColumns]);return(0,jsx_runtime.jsx)(DndProvider.W,{backend:esm.PD,children:(0,jsx_runtime.jsx)(src_DataGrid,{columns:draggableColumns,rows:sortedRows,sortColumns,onSortColumnsChange})})}ColumnsReordering.storyName="Columns Reordering";function DraggableRowRenderer({rowIdx,isRowSelected,className,onRowReorder,...props}){const[{isDragging},drag]=(0,useDrag.c)({type:"ROW_DRAG",item:{index:rowIdx},collect:monitor=>({isDragging:monitor.isDragging()})}),[{isOver},drop]=(0,useDrop.L)({accept:"ROW_DRAG",drop({index}){onRowReorder(index,rowIdx)},collect:monitor=>({isOver:monitor.isOver(),canDrop:monitor.canDrop()})});return className=(0,clsx_m.Z)(className,isDragging&&"riizhl",isOver&&"rxu4z1u"),(0,jsx_runtime.jsx)(RowWithRef,{ref:useCombinedRefs(drag,drop),rowIdx,isRowSelected,className,...props})}__webpack_require__(17085);try{DraggableRowRenderer.displayName="DraggableRowRenderer",DraggableRowRenderer.__docgenInfo={description:"",displayName:"DraggableRowRenderer",props:{onRowReorder:{defaultValue:null,description:"",name:"onRowReorder",required:!0,type:{name:"(sourceIndex: number, targetIndex: number) => void"}},viewportColumns:{defaultValue:null,description:"",name:"viewportColumns",required:!0,type:{name:"readonly CalculatedColumn<R, SR>[]"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"R"}},rowIdx:{defaultValue:null,description:"",name:"rowIdx",required:!0,type:{name:"number"}},selectedCellIdx:{defaultValue:null,description:"",name:"selectedCellIdx",required:!0,type:{name:"number | undefined"}},copiedCellIdx:{defaultValue:null,description:"",name:"copiedCellIdx",required:!0,type:{name:"number | undefined"}},draggedOverCellIdx:{defaultValue:null,description:"",name:"draggedOverCellIdx",required:!0,type:{name:"number | undefined"}},lastFrozenColumnIndex:{defaultValue:null,description:"",name:"lastFrozenColumnIndex",required:!0,type:{name:"number"}},isRowSelected:{defaultValue:null,description:"",name:"isRowSelected",required:!0,type:{name:"boolean"}},top:{defaultValue:null,description:"",name:"top",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},selectedCellEditor:{defaultValue:null,description:"",name:"selectedCellEditor",required:!0,type:{name:"ReactElement<EditorProps<R, unknown>, string | JSXElementConstructor<any>> | undefined"}},selectedCellDragHandle:{defaultValue:null,description:"",name:"selectedCellDragHandle",required:!0,type:{name:"ReactElement<HTMLAttributes<HTMLDivElement>, string | JSXElementConstructor<any>> | undefined"}},onRowChange:{defaultValue:null,description:"",name:"onRowChange",required:!0,type:{name:"(rowIdx: number, newRow: R) => void"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},onRowDoubleClick:{defaultValue:null,description:"",name:"onRowDoubleClick",required:!0,type:{name:"Maybe<(row: R, column: CalculatedColumn<R, SR>) => void>"}},rowClass:{defaultValue:null,description:"",name:"rowClass",required:!0,type:{name:"Maybe<(row: R) => Maybe<string>>"}},setDraggedOverRowIdx:{defaultValue:null,description:"",name:"setDraggedOverRowIdx",required:!0,type:{name:"((overRowIdx: number) => void) | undefined"}},selectCell:{defaultValue:null,description:"",name:"selectCell",required:!0,type:{name:"(row: R, column: CalculatedColumn<R, SR>, enableEditor?: Maybe<boolean>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demos/components/RowRenderers/DraggableRowRenderer.tsx#DraggableRowRenderer"]={docgenInfo:DraggableRowRenderer.__docgenInfo,name:"DraggableRowRenderer",path:"stories/demos/components/RowRenderers/DraggableRowRenderer.tsx#DraggableRowRenderer"})}catch(__react_docgen_typescript_loader_error){}function RowsReordering_createRows(){const rows=[];for(let i=1;i<500;i++)rows.push({id:i,task:`Task ${i}`,complete:Math.min(100,Math.round(110*Math.random())),priority:["Critical","High","Medium","Low"][Math.round(3*Math.random())],issueType:["Bug","Improvement","Epic","Story"][Math.round(3*Math.random())]});return rows}const RowsReordering_columns=[{key:"id",name:"ID",width:80},{key:"task",name:"Title",editor:TextEditor},{key:"priority",name:"Priority"},{key:"issueType",name:"Issue Type"},{key:"complete",name:"% Complete"}];function RowsReordering(){const[rows,setRows]=(0,react.useState)(RowsReordering_createRows),RowRenderer=(0,react.useCallback)((props=>(0,jsx_runtime.jsx)(DraggableRowRenderer,{...props,onRowReorder:function onRowReorder(fromIndex,toIndex){setRows((rows=>{const newRows=[...rows];return newRows.splice(toIndex,0,newRows.splice(fromIndex,1)[0]),newRows}))}})),[]);return(0,jsx_runtime.jsx)(DndProvider.W,{backend:esm.PD,children:(0,jsx_runtime.jsx)(src_DataGrid,{columns:RowsReordering_columns,rows,onRowsChange:setRows,rowRenderer:RowRenderer})})}RowsReordering.storyName="Rows Reordering";var lodash=__webpack_require__(96486);const sports=["Swimming","Gymnastics","Speed Skating","Cross Country Skiing","Short-Track Speed Skating","Diving","Cycling","Biathlon","Alpine Skiing","Ski Jumping","Nordic Combined","Athletics","Table Tennis","Tennis","Synchronized Swimming","Shooting","Rowing","Fencing","Equestrian","Canoeing","Bobsleigh","Badminton","Archery","Wrestling","Weightlifting","Waterpolo","Wrestling","Weightlifting"],Grouping_columns=[SelectColumn,{key:"country",name:"Country"},{key:"year",name:"Year"},{key:"sport",name:"Sport"},{key:"athlete",name:"Athlete"},{key:"gold",name:"Gold",groupFormatter:({childRows})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:childRows.reduce(((prev,{gold})=>prev+gold),0)})},{key:"silver",name:"Silver",groupFormatter:({childRows})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:childRows.reduce(((prev,{silver})=>prev+silver),0)})},{key:"bronze",name:"Bronze",groupFormatter:({childRows})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:childRows.reduce(((prev,{silver})=>prev+silver),0)})},{key:"total",name:"Total",formatter:({row})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:row.gold+row.silver+row.bronze}),groupFormatter:({childRows})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:childRows.reduce(((prev,row)=>prev+row.gold+row.silver+row.bronze),0)})}];function Grouping_rowKeyGetter(row){return row.id}function Grouping_createRows(){const rows=[];for(let i=1;i<1e4;i++)rows.push({id:i,year:2015+faker_default().datatype.number(3),country:faker_default().address.country(),sport:sports[faker_default().datatype.number(sports.length-1)],athlete:faker_default().name.findName(),gold:faker_default().datatype.number(5),silver:faker_default().datatype.number(5),bronze:faker_default().datatype.number(5)});return rows.sort(((r1,r2)=>r2.country.localeCompare(r1.country)))}const options=["country","year","sport","athlete"];function Grouping(){const[rows]=(0,react.useState)(Grouping_createRows),[selectedRows,setSelectedRows]=(0,react.useState)((()=>new Set)),[selectedOptions,setSelectedOptions]=(0,react.useState)([options[0],options[1]]),[expandedGroupIds,setExpandedGroupIds]=(0,react.useState)((()=>new Set(["United States of America","United States of America__2015"])));return(0,jsx_runtime.jsxs)("div",{className:"g1i64zeb",children:[(0,jsx_runtime.jsx)("b",{children:"Group by columns:"}),(0,jsx_runtime.jsx)("div",{className:"oiz0vp8",children:options.map((option=>(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:selectedOptions.includes(option),onChange:event=>function toggleOption(option,enabled){const index=selectedOptions.indexOf(option);enabled?-1===index&&setSelectedOptions((options=>[...options,option])):-1!==index&&setSelectedOptions((options=>{const newOptions=[...options];return newOptions.splice(index,1),newOptions})),setExpandedGroupIds(new Set)}(option,event.target.checked)})," ",option]},option)))}),(0,jsx_runtime.jsx)(src_DataGrid,{columns:Grouping_columns,rows,rowKeyGetter:Grouping_rowKeyGetter,selectedRows,onSelectedRowsChange:setSelectedRows,groupBy:selectedOptions,rowGrouper:lodash.groupBy,expandedGroupIds,onExpandedGroupIdsChange:setExpandedGroupIds,defaultColumnOptions:{resizable:!0}})]})}Grouping.storyName="Grouping",__webpack_require__(16022);const Resizable_rows=[...Array(100).keys()];function Resizable_CellFormatter(props){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[props.column.key,"×",props.row]})}const Resizable_columns=[];for(let i=0;i<50;i++){const key=String(i);Resizable_columns.push({key,name:key,formatter:Resizable_CellFormatter})}function ResizableGrid(){return(0,jsx_runtime.jsx)(src_DataGrid,{columns:Resizable_columns,rows:Resizable_rows,className:"fill-grid",style:{resize:"both"}})}ResizableGrid.storyName="Resizable Grid";const VariableRowHeight_rows=[...Array(500).keys()];function VariableRowHeight_CellFormatter(props){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[props.column.key,"×",props.row]})}function VariableRowHeight(){const columns=(0,react.useMemo)((()=>{const columns=[];for(let i=0;i<30;i++){const key=String(i);columns.push({key,name:key,frozen:i<5,resizable:!0,formatter:VariableRowHeight_CellFormatter})}return columns}),[]);return(0,jsx_runtime.jsx)(src_DataGrid,{columns,rows:VariableRowHeight_rows,rowHeight,className:"fill-grid"})}function rowHeight(){return 25+Math.round(75*Math.random())}function createDepartments(){const departments=[];for(let i=1;i<30;i++)departments.push({type:"MASTER",id:i,department:faker_default().commerce.department(),expanded:!1});return departments}VariableRowHeight.storyName="Variable Row Height";const productsMap=new Map;const productColumns=[{key:"id",name:"ID",width:35},{key:"product",name:"Product"},{key:"description",name:"Description"},{key:"price",name:"Price"}],departmentColumns=[{key:"expanded",name:"",minWidth:30,width:30,colSpan:args=>"ROW"===args.type&&"DETAIL"===args.row.type?3:void 0,cellClass:row=>"DETAIL"===row.type?"d1tyypg0":void 0,formatter:({row,isCellSelected,onRowChange})=>"DETAIL"===row.type?(0,jsx_runtime.jsx)(ProductGrid,{isCellSelected,parentId:row.parentId}):(0,jsx_runtime.jsx)(CellExpanderFormatter,{expanded:row.expanded,isCellSelected,onCellExpand:()=>{onRowChange({...row,expanded:!row.expanded})}})},{key:"id",name:"ID",width:35},{key:"department",name:"Department"}];function MasterDetailStory(){const[rows,setRows]=(0,react.useState)(createDepartments);return(0,jsx_runtime.jsx)(src_DataGrid,{rowKeyGetter:MasterDetail_rowKeyGetter,columns:departmentColumns,rows,onRowsChange:function onRowsChange(rows,{indexes}){const row=rows[indexes[0]];"MASTER"===row.type&&(row.expanded?rows.splice(indexes[0]+1,0,{type:"DETAIL",id:row.id+100,parentId:row.id}):rows.splice(indexes[0]+1,1),setRows(rows))},headerRowHeight:45,rowHeight:args=>"ROW"===args.type&&"DETAIL"===args.row.type?300:45,className:"fill-grid",enableVirtualization:!1})}function ProductGrid({parentId,isCellSelected}){const gridRef=(0,react.useRef)(null),[selectedPosition,setSelectedPosition]=(0,react.useState)({idx:-1,rowIdx:-2});(0,react.useEffect)((()=>{isCellSelected&&gridRef.current.element.querySelector('[tabindex="0"]').focus({preventScroll:!0})}),[isCellSelected]);const products=function getProducts(parentId){if(productsMap.has(parentId))return productsMap.get(parentId);const products=[];for(let i=0;i<20;i++)products.push({id:i,product:faker_default().commerce.productName(),description:faker_default().commerce.productDescription(),price:faker_default().commerce.price()});return productsMap.set(parentId,products),products}(parentId);return(0,jsx_runtime.jsx)("div",{onKeyDown:function onKeyDown(event){const{idx,rowIdx}=selectedPosition;("Tab"!==event.key||event.shiftKey||rowIdx!==products.length-1||idx!==productColumns.length-1)&&("Tab"===event.key&&event.shiftKey&&-1===rowIdx&&0===idx||event.stopPropagation())},children:(0,jsx_runtime.jsx)(src_DataGrid,{ref:gridRef,rows:products,columns:productColumns,rowKeyGetter:MasterDetail_rowKeyGetter,onSelectedCellChange:setSelectedPosition,style:{height:250}})})}function MasterDetail_rowKeyGetter(row){return row.id}MasterDetailStory.storyName="Master Detail",__webpack_require__(74206);function InfiniteScrolling_rowKeyGetter(row){return row.id}const InfiniteScrolling_columns=[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"firstName",name:"First Name"},{key:"lastName",name:"Last Name"},{key:"email",name:"Email"}];function createFakeRowObjectData(index){return{id:`id_${index}`,email:faker_default().internet.email(),title:faker_default().name.prefix(),firstName:faker_default().name.firstName(),lastName:faker_default().name.lastName()}}function InfiniteScrolling(){const[rows,setRows]=(0,react.useState)((()=>function InfiniteScrolling_createRows(numberOfRows){const rows=[];for(let i=0;i<numberOfRows;i++)rows[i]=createFakeRowObjectData(i);return rows}(50))),[isLoading,setIsLoading]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src_DataGrid,{columns:InfiniteScrolling_columns,rows,rowKeyGetter:InfiniteScrolling_rowKeyGetter,onRowsChange:setRows,rowHeight:30,onScroll:async function handleScroll(event){if(isLoading||!function isAtBottom({currentTarget}){return currentTarget.scrollTop+10>=currentTarget.scrollHeight-currentTarget.clientHeight}(event))return;setIsLoading(!0);const newRows=await function loadMoreRows(newRowsCount,length){return new Promise((resolve=>{const newRows=[];for(let i=0;i<newRowsCount;i++)newRows[i]=createFakeRowObjectData(i+length);setTimeout((()=>resolve(newRows)),1e3)}))}(50,rows.length);setRows([...rows,...newRows]),setIsLoading(!1)},className:"fill-grid"}),isLoading&&(0,jsx_runtime.jsx)("div",{className:"lsdu38z",children:"Loading more rows..."})]})}InfiniteScrolling.storyName="Infinite Scrolling",__webpack_require__(73972);const index_story={title:"Demos"}},82192:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},9020:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},68822:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},93246:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},47759:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},14866:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},27010:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},57319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},93841:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},35764:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},51802:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},94240:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},40167:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},41354:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},42995:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},22536:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},54810:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},97197:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},52577:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},32332:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},16022:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},22218:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},73972:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},74206:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},78865:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},32121:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},79050:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},17085:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__)},16874:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./index.story.ts":70779};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=16874},24654:()=>{}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[829],(()=>(__webpack_exec__(37707),__webpack_exec__(99669),__webpack_exec__(52167),__webpack_exec__(23849),__webpack_exec__(50046))));__webpack_require__.O()}]);